<html>
<head>
<script>
</script>


<!-- 
    <script src="js2/encoding.js">           </script>
-->

    <script src="js2/font_size.js">          </script>
    <script src="js2/data.js">               </script>
    <script src="js2/json.js">               </script>
    <script src="js2/utils.js">              </script>
    <script src="js2/sortable.js">           </script>
    <script src="js2/gps.js">                </script>
    <script src="js2/full_screen.js">        </script>
    <script src="js2/local_storage.js">      </script>
    <script src="js2/mailer.js">             </script>
    <script src="js2/download.js">           </script>
    <script src="js2/create_input.js">       </script>
    <script src="js2/table_module.js">       </script>
    <script src="js2/table_add_rows.js">     </script>
    <script src="js2/table_change_view.js">  </script>
    <script src="js2/table_hide_show.js">    </script>
    <script src="js2/table_search_text.js">  </script>
    <script src="js2/tab.js">                </script>
    <script src="js2/ul_module.js">          </script>
    <script src="js2/wamei_data.js"   charset="utf-8"></script>
    <script src="js2/wamei_search.js" charset="utf-8"></script>

    <script src="js2/table.js">              </script>
    <script src="js2/example.js">              </script>

<!-- in progress   -->
    <script src="js2/auto_save.js"></script>
<!-- in progress   -->

    <!--  Not use in progress
    <script src="js2/inhibit_close.js"></script>
    -->

    <link rel="stylesheet" href="css/tab.css">
    <link rel="stylesheet" href="css/table.css">
    <link rel="stylesheet" href="css/full_screen.css">
    <link rel="stylesheet" href="css/ul.css">

<script>
  // test script
  // // // // // // // // // // // // // // // // // // // 
  // TODO: var -> const ?
  // TODO: Write documents for functions.
  // // // // // // // // // // // // // // // // // // // 
</script>

</head>

<body>



<p>
<input type="button" value="smaller" onclick="smaller()" />
<input type="button" value="LARGER" onclick="larger()"  />
Biodiversity Investigation Support System (BiSS)
<!--            Switch full screen           -->
<input id="switch_screen_show" type="button" value="TO FULL SCREEN"  onclick="switchScreenShow(this.id)" />
<input type="button" value="saveHTML"  onclick="saveHTML()" />
<!--      TODO: Use different background color or something CLEAR for users in switching on / off       -->
<input type="button" value="Start GPS" onclick="startGPS(this)" />
<input type='button' value="Launch mailer" onclick="launchMailer()" />
<input type='button' value="Show example"  onclick="showExample(this)" />
</p>


<div class="Biodiversity Investigation System (BIS)">
  <p id="tabcontrol">
    <a href="#tab_tools"  >Tools     </a>
    <a href="#tab_settings">Settings </a>
    <a href="#tab_all"     >All plots</a>
    <input id = "add_tab" type = "button" value = "+ PLOT" onclick = "addInputTab({ obj:this })" />
  </p>

  <div id="tabbody">
    <div id="tab_tools">
      <script>
        var tab_tools = document.getElementById("tab_tools");
        tab_tools.appendChild( createSpecieUlModule('', 'all') );
//         tab_tools.appendChild( createSpecieUlModule('sp_list', 'all') );
        tab_tools.appendChild( generateSearchTable("wamei", generateTable(wamei)) );
      </script>
      <p>
      "aaa bbb" matches texts including both "aaa" and "bbb".
      <p>
      Wamei (Japanese plant names) is obtained from <br>
      Yamanouchi, T., Shutoh, K., Osawa, T., Yonekura, K., Kato, S., Shiga, T. 2019. <br>
      A checklist of Japanese plant names <br>
      (https://www.gbif.jp/v2/activities/wamei_checklist.html)
    </div>

    <div id="tab_settings">
      <script>
        var tab_setting = document.getElementById("tab_settings");
        tab_setting.appendChild( createSettingSelect() );
        tab_setting.appendChild( addSettingPartButton('plot') );
        tab_setting.appendChild( addSettingPartButton('occ')  );
        tab_setting.appendChild( crEl({ 'el': 'hr' }) );
        tab_setting.appendChild( tableModule({ 
                                      table_data: data_settings.default.plot, ns: "default_plot",
                                      id_text: true, load_button: true, save_button: true, hide_button: true, 
                                      add_button: true }) );
        tab_setting.appendChild( tableModule({ 
                                      table_data: data_settings.default.occ , ns: "default_occ",
                                      id_text: true, load_button: true, save_button: true, hide_button: true, 
                                      add_button: true }) );
       setSortable("default_plot_tb");
       setSortable("default_occ_tb");
      </script>
    </div>

    <div id="tab_all">
      <script>
        var tab_all = document.getElementById("tab_all");
        tab_all.appendChild( updateAllInputsTablesButton() );
      </script>
      <br>
      <span id='plot_all'></span>
      <span id='occ_all' ></span>
      <table id='comp_table' ></table>
    </div>

  </div>
</div>


<div>  <!-- need to located at the end of tab HTML -->
  <script>
    var column_no = 0;       // now clicked
    var column_no_prev = 0;  // previous clicked
    var dir = "asc";

    var tabs = document.getElementById('tabcontrol').getElementsByTagName('a');
    var pages = document.getElementById('tabbody').getElementsByTagName('div');
    updateTab()
    tabs[1].onclick();  // tab at first 
  </script>
<div>

</body>
</html>
