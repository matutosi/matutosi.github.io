<html>
<head>
<script>
</script>

    <script src="js/font_size.js"></script>
    <script src="js/data.js"></script>
    <script src="js/json.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/sortable.js"></script>
    <script src="js/gps.js"></script>
    <script src="js/full_screen.js"></script>
    <script src="js/mailer.js"></script>
    <script src="js/download.js"></script>
    <script src="js/create_input.js"></script>
    <script src="js/module_table.js"></script>
    <script src="js/table_add_rows.js"></script>
    <script src="js/table_change_view.js"></script>
    <script src="js/table_hide_show.js"></script>
    <script src="js/table_search_text.js"></script>

    <script src="js/wamei_data.js" charset="utf-8"></script>
    <script src="js/wamei_search.js" charset="utf-8"></script>
    <!--  Not use in progress
    <script src="js/inhibit_close.js"></script>
    -->

    <link rel="stylesheet" href="css/tab.css">
    <link rel="stylesheet" href="css/table.css">
    <link rel="stylesheet" href="css/full_screen.css">

  <script> // test script
  // // // // // // // // // // // // // // // // // // // 
  // TODO: var -> const ?
  // TODO: Write documents for functions.
  // // // // // // // // // // // // // // // // // // // 

// test for autoSave
function testSaveTable(){
  var table_data = "test_data";
  var f_name = "temp.txt";
  var bom = new Uint8Array([0xEF, 0xBB, 0xBF]);  //set encoding UTF-8 with BOM
  var blob = new Blob([bom, table_data], { "type" : "text/tsv" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  document.body.appendChild(a);
  a.download = f_name;
  a.href = url;
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
  delete table_data;
}
// setInterval(testSaveTable, 1000 * 2 );  // 1min: 1000ms * 60sec
// 
// function autoSave(){
//     console.log(getNow())
// // localStorage
// }
// setInterval(autoSave, 1000 * 60);  // 1min: 1000ms * 60sec

</script>

</head>

<body>



<p>
<input type="button" value="smaller" onclick="smaller()" />
<input type="button" value="LARGER" onclick="larger()"  />
Biodiversity Investigation Support System (BISS)
<!--            Switch full screen           -->
<input id="switch_screen_show" type="button" value="TO FULL SCREEN"  onclick="switchScreenShow(this.id)" />
<input type="button" value="saveHTML"  onclick="saveHTML()" />
<!--      TODO: Use different background color or something CLEAR for users in switching on / off       -->
<input type="button" value="Start GPS" onclick="startWatchPosition()" />
<input type="button" value="Stop GPS"  onclick="stopWatchPosition()" />
<input type='button' value="Launch mailer" onclick="launchMailer()" />
<a href="exam01.html">Show example</a>
</p>

<div class="Biodiversity Investigation System (BIS)">
  <p id="tabcontrol">
    <a href="#tab_settings">Settings </a>
    <a href="#tab_inputs" >Inputs   </a>
    <a href="#tab_tools"  >Tools    </a>
    <a href="#tab4"       >Spare    </a>
  </p>

  <div id="tabbody">
    <div id="tab_settings">

      <script>
        var setting_tab = document.getElementById("tab_settings");
        setting_tab.appendChild( settingTableModule("setting_plot_default") );
        setting_tab.appendChild( settingTableModule("setting_occ_default") );
      </script>
    </div>

    <div id="tab_inputs">
      <script>
        var input_tab = document.getElementById("tab_inputs");

        var column_no = 0;       // now clicked
        var column_no_prev = 0;  // previous clicked
        var dir = "asc";
      </script>
    </div>

    <div id="tab_tools">
      <script>
      var tab = document.getElementById("tab_tools");
      tab.appendChild( generateSearchTable("wamei", generateTable(wamei)) );
      </script>
      <p>
      "aaa bbb" matches texts including both "aaa" and "bbb".
      <p>
      Wamei (Japanese plant names) is obtained from 
      Yamanouchi, T., Shutoh, K., Osawa, T., Yonekura, K., Kato, S., Shiga, T. 2019. A checklist of Japanese plant names (https://www.gbif.jp/v2/activities/wamei_checklist.html)
    </div>

    <div id="tab4">

<!-- 
        <link rel="stylesheet" href="css/canvas.css">
        <canvas id="canvas" width="500" height="300"></canvas>

        <div class="color">
              Color：
              <input type="button" class="black" data-color="  0,   0,   0, 1" value="    " onclick="changeColor('#000000')" />
              <input type="button" class="green" data-color="  0, 255,   0, 1" value="    " onclick="changeColor('#00ff00')" />
              <input type="button" class="red  " data-color="255,   0,   0, 1" value="    " onclick="changeColor('#ff0000')" />
              <input type="button" class="blue " data-color="  0,   0, 255, 1" value="    " onclick="changeColor('#0000ff')" />
              <input type="button" class="white" data-color="255, 255, 255, 1" value="    " onclick="changeColor('#ffffff')" />
              Width：
              <input type="button" value="1"  onclick="changeWidth(2)"  />
              <input type="button" value="2"  onclick="changeWidth(4)"  />
              <input type="button" value="4"  onclick="changeWidth(8)"  />
              <input type="button" value="8"  onclick="changeWidth(16)" />
              <input type="button" value="16" onclick="changeWidth(32)" />
        </div>

        <div style="padding:10px">
          <button type="button" onclick="clearCanvas()">Clear image</button>
          <button type="button" onclick="prevCanvas()">Prev</button>
          <button type="button" onclick="nextCanvas()">Next</button>
          <button type="button" onclick="downloadCanvas()">Download</button>
        </div>

        <script src="js/canvas.js"></script>
 -->

    </div>
  </div>

</div>

  <script>
//  fetchLSKeys();
//  saveTable("occ_setting_table");
//  saveTable("plot_setting_table");
//  restoreTable("occ_setting_table");
//  restoreTable("plot_setting_table");
  </script>



<div>
  <!-- need to located at the end of tab HTML -->
  <script src="js/tab.js"></script>
<div>

</body>

</html>
