<html> <head> <script></script> <script>function larger(){""===document.documentElement.style.getPropertyValue("--font-size")&&document.documentElement.style.setProperty("--font-size","16px");var e=document.documentElement.style.getPropertyValue("--font-size"),t=1.2*Number(e.replace("px",""));document.documentElement.style.setProperty("--font-size",t+"px")}function smaller(){""===document.documentElement.style.getPropertyValue("--font-size")&&document.documentElement.style.setProperty("--font-size","16px");var e=document.documentElement.style.getPropertyValue("--font-size"),t=Number(e.replace("px",""))/1.2;document.documentElement.style.setProperty("--font-size",t+"px")}</script> <script>const data_settings={default:{plot:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:["DATE","Investigator","Location","LOC_LAT","LOC_LON","LOC_ACC","UPDATE_TIME_GPS","Altitude","Aspect","Inclination","T1_height","T2_height","S1_height","S2_height","H_height","T1_cover","T2_cover","S1_cover","S2_cover","H_cover","Photo","Memo"],type:["auto","text","text","auto","auto","auto","button","number","text","number","number","number","number","number","number","number","number","number","number","number","text","text"],value:["","","","","","","","","","","","","","","","","","","","","",""],DELETE:["","","","","","","","","","","","","","","","","","","","","",""],memo:["","","","","","","","","","","","","","","","","","","","","",""]}},occ:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:["DELETE","DATE","LOC_LAT","LOC_LON","LOC_ACC","UPDATE_TIME_GPS","Layer","Species","Cover","Abundance","Rank","Sampled","Identified","Photo","Memo","SameAs"],type:["button","auto","auto","auto","auto","button","list","text","number","number","list","checkbox","checkbox","text","text","auto"],value:["","","","","","","T1:T2:S1:S2:H","","","","5:4:3:2:1:+:r","","checked","","",""],DELETE:["","","","","","","","","","","","","","","",""],memo:["","","","","","","","","","","","","","","",""]}}},empty:{plot:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:[""],type:[""],value:[""],DELETE:[""],memo:[""]}},occ:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:[""],type:[""],value:[""],DELETE:[""],memo:[""]}}},full:{plot:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:["DATE","Investigator","Investigator","Location","LOC_LAT","LOC_LON","LOC_ACC","UPDATE_TIME_GPS","Altitude","Aspect","Inclination","T1_height","T2_height","S1_height","S2_height","H_height","T1_cover","T2_cover","S1_cover","S2_cover","H_cover","Photo","Memo"],type:["auto","fixed","text","text","auto","auto","auto","button","number","text","number","number","number","number","number","number","number","number","number","number","number","text","text"],value:["","","","","","","","","","","","","","","","","","","","","","",""],DELETE:["","","","","","","","","","","","","","","","","","","","","","",""],memo:["","","","","","","","","","","","","","","","","","","","","","",""]}},occ:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:["DELETE","DATE","LOC_LAT","LOC_LON","LOC_ACC","UPDATE_TIME_GPS","Layer","Species","Cover","Abundance","Rank","Sampled","Identified","Photo","Memo","SameAs"],type:["button","auto","auto","auto","auto","button","list","text","number","number","list","checkbox","checkbox","text","text","auto"],value:["","","","","","","T1:T2:S1:S2:H","","","","5:4:3:2:1:+:r","","checked","","",""],DELETE:["","","","","","","","","","","","","","","",""],memo:["","","","","","","","","","","","","","","",""]}}},_5_layers:{plot:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:["DATE","Investigator","Location","LOC_LAT","LOC_LON","LOC_ACC","UPDATE_TIME_GPS","Altitude","Aspect","Inclination","T1_height","T2_height","S1_height","S2_height","H_height","T1_cover","T2_cover","S1_cover","S2_cover","H_cover","Photo","Memo"],type:["auto","fixed","text","auto","auto","auto","button","number","text","number","number","number","number","number","number","number","number","number","number","number","text","text"],value:["","","","","","","","","","","","","","","","","","","","","",""],DELETE:["","","","","","","","","","","","","","","","","","","","","",""],memo:["","","","","","","","","","","","","","","","","","","","","",""]}},occ:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:["DELETE","Layer","Species","Cover","Abundance","Rank","Sampled","Identified","Photo","Memo","SameAs"],type:["button","list","text","number","number","list","checkbox","checkbox","text","text","auto"],value:["","T1:T2:S1:S2:H","","","","5:4:3:2:1:+:r","","checked","","",""],DELETE:["","","","","","","","","","",""],memo:["","","","","","","","","","",""]}}},_3_layers:{plot:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:["DATE","Investigator","Location","LOC_LAT","LOC_LON","LOC_ACC","UPDATE_TIME_GPS","Altitude","Aspect","Inclination","T_height","S_height","H_height","T_cover","S_cover","H_cover","Photo","Memo"],type:["auto","fixed","text","auto","auto","auto","button","number","text","number","number","number","number","number","number","number","text","text"],value:["","","","","","","","","","","","","","","","","",""],DELETE:["","","","","","","","","","","","","","","","","",""],memo:["","","","","","","","","","","","","","","","","",""]}},occ:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:["DELETE","Layer","Species","Cover","Abundance","Rank","Sampled","Identified","Photo","Memo","SameAs"],type:["button","list","text","number","number","list","checkbox","checkbox","text","text","auto"],value:["","T:S:H","","","","5:4:3:2:1:+:r","","checked","","",""],DELETE:["","","","","","","","","","",""],memo:["","","","","","","","","","",""]}}},no_layers:{plot:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:["DATE","Investigator","Location","LOC_LAT","LOC_LON","LOC_ACC","UPDATE_TIME_GPS","Altitude","Aspect","Inclination","Height","Cover","Photo","Memo"],type:["auto","fixed","text","auto","auto","auto","button","number","text","number","number","number","text","text"],value:["","","","","","","","","","","","","",""],DELETE:["","","","","","","","","","","","","",""],memo:["","","","","","","","","","","","","",""]}},occ:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:["DELETE","Species","Cover","Abundance","Rank","Sampled","Identified","Photo","Memo","SameAs"],type:["button","text","number","number","list","checkbox","checkbox","text","text","auto"],value:["","","","","5:4:3:2:1:+:r","","checked","","",""],DELETE:["","","","","","","","","",""],memo:["","","","","","","","","",""]}}},flora:{plot:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:["DATE","Investigator","Location","Memo"],type:["auto","fixed","text","text"],value:["","","",""],DELETE:["","","",""],memo:["","","",""]}},occ:{biss_c_names:["item","type","value","DELETE","memo"],biss_d_types:["text","list","text","button","text"],biss_selects:[null,["auto","button","checkbox","fixed","list","text","number"],null,null,null],biss_inputs:{item:["DELETE","Species","LOC_LAT","LOC_LON","LOC_ACC","UPDATE_TIME_GPS","Sampled","Identified","Photo","Memo"],type:["button","text","auto","auto","auto","button","checkbox","checkbox","text","text"],value:["","","","","","","","checked","",""],DELETE:["","","","","","","","","",""],memo:["","","","","","","","","",""]}}}},data_settings_part={plot:{date_GPS:{item:["DATE","LOC_LAT","LOC_LON","LOC_ACC","UPDATE_TIME_GPS"],type:["auto","auto","auto","auto","button"]},altitude_etc:{item:["Altitude","Aspect","Inclination"],type:["number","text","number"]},_5_layers:{item:["T1_height","T2_height","S1_height","S2_height","H_height","T1_cover","T2_cover","S1_cover","S2_cover","H_cover"],type:["number","number","number","number","number","number","number","number","number","number"]},_3_layers:{item:["T_height","S_height","H_height","T_cover","S_cover","H_cover"],type:["number","number","number","number","number","number"]},memo:{item:["Photo","Memo"],type:["text","text"]}},occ:{date_GPS:{item:["DATE","LOC_LAT","LOC_LON","LOC_ACC","UPDATE_TIME_GPS"],type:["auto","auto","auto","auto","button"]},delete_button:{item:["DELETE"],type:["button"]},_5_layers:{item:["Layer","Species","Cover"],type:["list","text","number"],value:["T1:T2:S1:S2:H","",""]},_3_layers:{item:["Layer","Species","Cover"],type:["list","text","number"],value:["T:S:H","",""]},cover_rank:{item:["Rank"],type:["list"],value:["5:4:3:2:1:+:r"]},sampled_identified:{item:["Sampled","Identified"],type:["checkbox","checkbox"],value:["","checked"]},memo:{item:["Photo","Memo","SameAs"],type:["text","text","auto"]}}};</script> <script>// Convert csv to json format 
//    can convert from tsv using by sep="\t" 
//    @example 
//    var csv = `item type value option 
//    Project fixed  Biodiv 
//    Investigator text   
//    DELETE button  Don't change 
//    Date auto  Don't change 
//    No auto  Don't change 
//    Location text  ` 
//    var json = csv2json(csv, sep="\t"); 
//    var json_2 = JSON.parse(json); 
//    jsonKeys(json_2); 
//    extractJson(json_2); 
//    json2Array(json_2, "item") 
function csv2json(csv, sep=","){ 
  var json_array = []; 
  var csv_array = []; 
  csv_array = csv.split('\n'); 
  var items = csv_array[0].split(sep); 
    for (var i = 1; i < csv_array.length; i++) { 
      var line = new Object; 
      var tmp_array = csv_array[i].split(sep); 
      for (var j = 0; j < items.length; j++) { 
        if(tmp_array[j] !== ''){ line[items[j]] = tmp_array[j]; } 
      } 
      json_array.push(line); 
  } 
  return JSON.stringify(json_array); 
} 
 
// Extract all data from JSON data 
//    Can extract data from simple JSON () 
//    @params json A JSON data. 
function extractJson(json){ 
  const keys = jsonKeys(json); 
  var arr = []; 
  for(let k of keys){ arr[k] = []; } 
  for(let k of keys){ 
    for(let j of json){  
      if(j[k] === void 0) arr[k].push("") 
      else                arr[k].push(j[k]); 
    } 
  } 
  return arr; 
} 
 
// Extract JSON data with key 
//    @params json A JSON data. 
//    @params key  A key string. 
function json2Array(json, key){ 
  var arr = []; 
  for(let j of json){  
    if(j[key] === void 0) arr.push("") 
    else                  arr.push(j[key]); 
  } 
  return arr; 
} 
 
// Extract keys from JSON data 
function jsonKeys(json){ 
  var arr = []; 
  for(let j of json){ arr = arr.concat(Object.keys(j)); } 
  return uniq(arr); 
} 
 
// Unique array 
function uniq(array){ 
  return Array.from(new Set(array)); 
}</script> <script>// Use namespace like shiny::NS. 
//  @examples 
//  var ns = NS('plot'); 
//  ns('table'); 
//  // 'plot-table' 
//   
function NS(namespace){ 
  var f = function f(id){ 
    return namespace + '-' + id; 
  } 
  return f; 
} 
 
// Convert hasy array table 
//    In progress: can not convert hasy that has array as a value 
//    @example  
//    var hash_array = sumWithGroup("occurrence", "Cover", "Layer"); 
//    hash2table(hasy_array); 
//     
function hash2table(hash_array){ 
  var table = document.createElement('table'); 
  for(let i = 0; i < Object.keys(hash_array).length; i++){ 
    var tr = document.createElement('tr'); 
    tr.appendChild( crEl({ el: 'td', tc: Object.keys(hash_array)[i] }) ); 
    tr.appendChild( crEl({ el: 'td', ih: Object.values(hash_array)[i] }) ); 
    table.appendChild(tr); 
  } 
  return table 
} 
 
// Check if an object is or has table.  
//    @params obj An object. 
//    @return A logical. 
function isTable(obj){ 
  return obj.tagName === 'TABLE'; 
} 
function hasTable(obj){ 
  return obj.getElementsByTagName('table').length > 0; 
} 
 
// Search parent table of a object 
//    Search parentNode of a object. 
//    When object has multiple tables, return the first table in default. 
//    Can return another table by using index. 
//    @params obj   An object. 
//    @params index A numeric. 
//    @return A table. 
function searchParentTable(obj, index = 0){ 
  while( !isTable(obj) && !hasTable(obj) ){ 
    var obj = obj.parentNode; 
  } 
  if(isTable(obj)){ 
    return obj; 
  }else{ 
    return obj.getElementsByTagName("table")[index]; 
  } 
} 
 
// Get column data in a table 
//    @params id_table A string. 
//    @params col_name A string. 
//    @return An array. 
//    @examples 
//    var table = document.getElementById('input_occ_pl_1_tb'); 
//    var tds = table.rows[2].cells; 
//    for(let name of getColNames(table)){ console.log(getColData(table, name, true)) } 
//    for(let td of tds                 ){ console.log(getCellData(td, true)) } 
//    for(let td of tds                 ){ console.log(getCellData(td)) } 
function getColData(table, col_name, list_with_index = false){ 
  const col_no   = getColNames(table).indexOf(col_name); 
  var group_value = []; 
  var table = table.querySelectorAll("tr:not([class=hide_button]"); 
  for(Ri = 1; Ri < table.length; Ri++){    // except th (rows[0]) 
    group_value[Ri - 1] = getCellData(table[Ri].cells[col_no], list_with_index) 
  } 
  return group_value; 
} 
 
// Get input value, list, or innerHTML cell data in a table. 
//    In BISS, the values varies input, list, or innerHTML.  
//    getCellData()  
//    @params cell_data A td element in a table. 
//    @params data_type A string to specify the data type of the cell,  
//                      which can be retrived with col_type(). 
//    @return A string. 
function getCellData(td, list_with_index = false){ 
  if(td.firstChild === void 0){ return ''; } 
  if(td.firstChild === null  ){ return ''; } 
  if(td.firstChild.value === void 0){ 
    return td.innerHTML; 
  }else{ 
    if(td.firstChild.type === 'checkbox'){ 
      return td.firstChild.checked; 
    }else{ 
      if(list_with_index === true && td.firstChild.tagName === 'SELECT'){ 
        return td.firstChild.selectedIndex; 
      }else{ 
        return td.firstChild.value; 
      } 
    } 
  } 
} 
 
 
// Get options in select tag in a cell 
//    Return string array. 
function getSelectOptionInCell(select){ 
  var select_opt = []; 
  var opts = select.children; 
  for(let i = 0; i < opts.length; i++){ select_opt.push(opts[i].value); } 
  return select_opt; 
} 
 
// Split array by group 
//    @params array An array. 
//    @params group An array. 
//    @return Grouped array.  
//    @examples 
//    var array = [ 1,   2,   3,   4]; 
//    var group = ["a", "b", "a", "b"]; 
//    splitByGroup(array, group); 
//    // [a: [1,3], b: [2,4]] 
function splitByGroup(array, group){ 
  if(array.length !== group.length){ return array; } 
  var grouped = []; 
  for(let i=0; i < array.length; i++){ grouped[group[i]] = []; } 
  for(let i=0; i < array.length; i++){ 
    grouped[group[i]].push(array[i]); 
  } 
  return grouped; 
} 
 
 
// DEPRECATED, use getDataTypes() 
//  
// Get data types from occurrence table. 
//    Columns shown below are special,  
//        "DATE", "DELETE", "NO", "LOC_LAT", "LOC_LON", "LOC_ACC": 
//        These columns can not be set by users.  
//    Other columns can be devided into 5 data types:  
//        "fixed", "checkbox", "text", "number", "list". 
//   @paramas table A table element. 
//   @return        A string array. 
// function getDataType(table){ 
// //   const table = document.getElementById(id_table); 
//   const col_names = getColNames(table); 
//   const n_col = col_names.length; 
//   const first_row = table.rows[2].cells; // 2: data, (0: colnames, 1: hide buttons) 
//   var data_type = []; 
//   for(let Ci = 0; Ci < n_col; Ci++){ 
//     switch(col_names[Ci]){ 
//       case "DATE": 
//       case "DELETE": 
//       case "UPDATE_TIME_GPS": 
//       case "NO": 
//         data_type[Ci] = col_names[Ci]; 
//         break; 
//       default: 
//   // console.log(col_names[Ci]); 
//         var f_child = first_row[Ci].firstChild; 
//         if(f_child.value === void 0){ 
//           data_type[Ci] = "fixed"; 
//         } else { 
//           if(f_child.getAttribute("type") === null){ 
//             data_type[Ci] = "list"; 
//           } else { 
//             data_type[Ci] = f_child.getAttribute("type"); 
//           } 
//         } 
//       break; 
//     } 
//   } 
//   return data_type; 
// } 
 
 
 
// Helper for getDataType() 
function getDataTypes(table){ 
  var types = []; 
  var table = table.querySelectorAll("tr:not([class=hide_button]"); // remove tr with hide buttons 
  for(let cell of table[1].cells){                                  // 1: first data row (0: colnames) 
    types.push(getDataTypeCell(cell)); 
  } 
  return types; 
} 
 
// Helper for getDataType() 
function getDataTypeCell(cell){ 
  if(cell.firstChild === null){ return "fixed"; } 
  var type = (cell.firstChild.type === void 0) ? "fixed" : cell.firstChild.type; 
  if(type === 'select-one') var type = 'list'; 
  return type; 
} 
 
// Get column names as a string array. 
//   @paramas table A table element. 
//   @return A string array. 
function getColNames(table){ 
  // console.log(table.rows[0]); 
  const row_0 = table.rows[0]; 
  const col_names = []; 
  for(let Ri=0; Ri<row_0.cells.length; Ri++){ 
    col_names[Ri] = row_0.cells[Ri].innerText; 
  } 
  return col_names 
} 
 
// Get time like 2022_05_18_15_51_28: yyyy-mm-dd-hh-mm-ss 
function getNow(){ 
   var now = new Date(); 
   const yr  = now.getFullYear(); 
   const mo  = String(now.getMonth()+1).padStart(2, `0`); // getMonth() return 0 when January 
   const dd  = String(now.getDate()).padStart(2, `0`); 
   const hh  = String(now.getHours()).padStart(2, `0`); 
   const mi  = String(now.getMinutes()).padStart(2, `0`); 
   const ss  = String(now.getSeconds()).padStart(2, `0`); 
   return(`${yr}_${mo}_${dd}_${hh}_${mi}_${ss}`) 
} 
 
// Delete a row in a table. 
//   When the raw is the only one row in a table, the row will not be deleted. 
//   @paramas  obj An element of input button of a row in a table. 
function delRow(obj){ 
    var table = obj.parentNode.parentNode.parentNode; // clicked table 
    if(table.rows.length > 3){                        // delete more than 3 rows (th + tb * 2) 
      var tr = obj.parentNode.parentNode;             // clicked row 
      tr.parentNode.deleteRow(tr.sectionRowIndex);    // delete clicked row 
    } 
} 
 
// Helper to createElement(), setAttribute(), innerHTML, textContent 
//   @paramas el A string for element name. 
//   @paramas ats An array with attribute names. {id: "hoge", value: "foo"} 
//   @paramas ih,tc A string for innerHTML and textContent. 
//            Both of them are given, ih is overwritten by tc. 
//   @return HTML An object. 
//   @examples  
//   crEl({ el: 'p', ats: {id: "id_test", class: "some_class"}, ih: "test" }); 
function crEl({ el, ats, ih, tc }){ 
  var ele = document.createElement(el); 
  if(ats != void 0){ 
    var keys  = Object.keys(ats); 
    for(let key of keys){ ele.setAttribute(key, ats[key]); } 
  } 
  if(ih != void 0){ ele.innerHTML   = ih; } 
  if(tc != void 0){ ele.textContent = tc; } 
  return ele; 
} 
 
// Save html as it is. 
//   Crtl + S can save an original html file  
//   that is not generated by JavaScript. 
//   saveHTML() save the generated html file as it is. 
function saveHTML(obj){ 
  var doc = document.documentElement.outerHTML; 
  downloadStrings(strings = doc, file_name = "biodiv.html") 
}</script> <script>// Set table sortable 
//    Inspired by https://blog.ver001.com/javascript-table-sort/ 
//    Click th, and sort table by its th order. 
//    The same th clicked again, sort by descending order. 
//    "" in number will be converted into null for sorting in last element. 
//    "" in string keep "" (NOT null) for sorting in last element. 
//    setSortable() should be executed after a table is created,  
//    If executed before creation, a table will not be sortable. 
//     
function setSortable(id_table){ 
  // console.log(id_table); 
  // console.log( document.querySelectorAll('#' + id_table + ' th') ); 
  // var id_table = "occ_input_table_example_01"; 
  // var id_table = "comp_table"; 
  document.querySelectorAll('#' + id_table + ' th').forEach(elm => { 
    elm.onclick = function (){ 
      // settings 
      var table = document.getElementById(id_table); 
      column_no = this.cellIndex; // now clicked 
      // sort direction: clicked: sort reverse 
      if(column_no_prev !== column_no) { 
        dir = "asc";  
      } else if(column_no_prev === column_no && dir === "desc") { 
        dir = "asc";  
      } else if(column_no_prev === column_no && dir === "asc"){ 
        dir = "desc";  
      }  
      column_no_prev = column_no; 
      var col_name = getColNames(table)[column_no]; 
      var elements = getColData(table, col_name, list_with_index = true); 
  //       elements.shift() // delete hide button 
  // console.log("elements in sort: " + elements); 
      var rank_index = rank(elements, dir);  // rank_index: sorting order 
      // sort table 
      var trs = table.rows; 
      for(let i = 0; i < rank_index.length; i++){  
        rank_index[i]++;  // add 2 (colnames and hide button) 
        rank_index[i]++; 
      } 
      rank_index.unshift(0, 1);  // 0: colnames, 1: hide button 
      var new_trs = sortByOrder(trs, rank_index); 
      for(let i = 0; i < new_trs.length; i++){ 
        table.appendChild(new_trs[i]); 
      } 
    } 
  }) 
} 
 
// Convert string array to numeric array 
//    Available when all element of array can be convert to numeric by Number(). 
//    Some element can NOT be converted, return input array. 
//    "" in number will be converted into null for sorting in last element. 
//    "" in string keep "" (NOT null) for sorting in last element. 
function string2Numeric(array){ 
  new_array = blank2Null(array);  // keep original for return in string 
  var res_array = []; 
  for(let i=0; i<array.length; i++){ 
    if(isNaN(Number(new_array[i]))){ return array; } // string: return original array 
    if(new_array[i] === null){ res_array[i] = null;                } 
    else                     { res_array[i] = Number(new_array[i]); } 
  } 
  return res_array; 
} 
 
// Convert blank ("") string in array to null. 
function blank2Null(array){ 
  var res_array = []; 
  for(let i=0; i<array.length; i++){ 
    if(array[i] === ""){ res_array[i] = null;     } 
    else               { res_array[i] = array[i]; } 
  } 
  return res_array; 
} 
 
// Rank of each element in an array (1st version) 
//     
//    Rank starts with 0, because rank will be used to sort arrays. 
//    In case of tie, return former element with a smaller index. 
//    null return as the last element. 
//    "" in number will be converted into null, and return as the last element. 
//    "" in string keep "" (NOT null), and return as the last element. 
//      rank([5, 3, 2, 4, null, 1, 3]) 
//      >>   [5, 2, 1, 4, 6,    0, 3] 
function rank(array, dir = "asc"){ 
// var array = ["3","1","","", "2"]; 
// var array = [3,2,"","", 2]; 
// var array = ["c","","a","", "b", "c"]; 
//  
// string MUST keep "", do NOT convert into null  
//    in string2Numeric 
    array = string2Numeric(array); 
    var rank = []; 
    var n_array = array.length; 
    for (let i = 0; i < n_array; i++) { rank[i] = 0; } 
    if(dir === "desc"){ 
      for (let i=1; i<n_array; i++) { 
          for (let j=0; j<i; j++) { 
              if( array[j]  <  array[i]) { rank[j]++; } 
              if( array[j]  >  array[i]) { rank[i]++; } 
              if( array[j] === array[i]) { rank[j]++; } 
          } 
      } 
    } else { 
      for (let i = 1; i < n_array; i++) { 
          for (let j = 0; j < i; j++) { 
              if( array[j] > array[i]){ 
                  if( array[i] === null || array[i] === "" ){ rank[i]++; } 
                  else                                      { rank[j]++; } 
              } 
              if( array[j] < array[i]){ 
                  if(array[j] === null || array[j] === "" ) { rank[j]++; } 
                  else                                      { rank[i]++; } 
              } 
              if( array[j] === array[i])                    { rank[i]++; } 
          } 
      } 
    } 
    return rank; 
} 
 
// Sort array with rank_array 
function sortByOrder(array, rank_array){ 
  const n = array.length; 
  if(n !== rank_array.length){ 
    alert("Length of array and rank_array must be same!"); 
    return array; 
  } 
  var sorted_array = []; 
  for(let Ni = 0; Ni < n; Ni++){ 
    sorted_array[rank_array[Ni]] = array[Ni]; 
  } 
  return sorted_array; 
}</script> <script>function getLat(){return String(locations.lat[locations.lat.length-1])}function getLon(){return String(locations.lon[locations.lon.length-1])}function getAcc(){return String(locations.acc[locations.acc.length-1])}function successCallback(t){locations.lat.push(t.coords.latitude),locations.lon.push(t.coords.longitude),locations.acc.push(t.coords.accuracy)}function errorCallback(t){document.getElementById("poslog").innerHTML+=t.code+", "+t.message+"<br>"}function stopGPS(t){navigator.geolocation.clearWatch(watchId),t.replaceWith(createStartGPSButton())}function startGPS(t){watchId=navigator.geolocation.watchPosition(successCallback,errorCallback,positionOptions),t.replaceWith(createStopGPSButton())}var watchId=0,positionOptions={enableHighAccuracy:!0,timeout:6e4,maximumAge:0},locations={lat:[],lon:[],acc:[]};</script> <script>function switchScreenShow(e){var t=document.getElementById(e);checkFullScreen()?(document.exitFullscreen(),t.setAttribute("value","TO FULL SCREEN")):(document.body.requestFullscreen(),t.setAttribute("value","to normal show"))}function checkFullScreen(){var e=!1;return document.fullscreenElement&&(e=!0),e}</script> <script>//  
//  
//    @paramas sp_list An array. 
//    @examples 
//    console.log(removeSLinLS()); 
//    console.log(getLSKeys()); 
//    console.log(getSLinLS()); 
//    console.log(addSLinLS([1,2,3])); 
//    console.log(getSLinLS()); 
//    console.log(addSLinLS([1,2,5,6,7])); 
//    console.log(uniq(getSLinLS())); 
function addSLinLS(sp_list, ns='base'){ 
  if(getSLinLS(ns) === ''){ 
    var new_list = sp_list; 
  }else{ 
    var old_list = getSLinLS(ns); 
    var new_list = old_list.concat(sp_list); 
  } 
  var new_list = uniq(new_list.sort()); 
  localStorage.setItem('biss_sl-' + ns, new_list); 
} 
function getSLinLS(ns='base'){ 
  if(localStorage['biss_sl-' + ns] === void 0){ 
    return ''; 
  }else{ 
    return localStorage['biss_sl-' + ns].split(','); 
  } 
} 
function removeSLinLSAll(){ removeSLinLS('all_remove'); } 
function removeSLinLS(ns='base'){ 
  if(ns === 'all_remove'){ 
    var keys = getKeysOfSLinLS(); 
    for(let key of keys){ localStorage.removeItem(key); } 
  }else{ 
    localStorage.removeItem('biss_sl-' + ns); 
  } 
} 
function getLSKeys(){ 
  return Object.keys(localStorage); 
} 
function getKeysOfSLinLS(){ 
  var keys = getLSKeys(); 
  // var keys = ['biss_sl-2', 'biss_sl-1', 'bis_sl-1', 'abiss_sl-1']; 
  return grepArray(keys, /^biss_sl-/); 
} 
function grepArray(array, regex){ 
  var matched = []; 
  for(let a of array){ 
    if(regex.test(a)){ 
      matched.push(a); 
    } 
  } 
  return matched; 
} 
function replaceArrayAll(array, search, replace){ 
  var replaced = []; 
  for(let a of array){ 
    replaced.push(a.replaceAll(search, replace)); 
  } 
  return replaced; 
}</script> <script>function launchMailer(){location.href='mailto: matutosi@gmail.com?subject="text"&body="testmail"'}</script> <script>function downloadStrings(strings, file_name){ 
  var bom = new Uint8Array([0xEF, 0xBB, 0xBF]);  //set encoding UTF-8 with BOM 
  var blob = new Blob([bom, strings], { "type" : "text/tsv" }); 
  const url = URL.createObjectURL(blob); 
  const a = document.createElement("a"); 
  document.body.appendChild(a); 
  a.download = file_name; 
  a.href = url; 
  a.click(); 
  a.remove(); 
  URL.revokeObjectURL(url); 
} 
 
 
function getInputTables(id_tab){ 
var id_tab = 'tab_inputs'; 
  var tab = document.getElementById(id_tab); 
  var tables = tab.getElementsByTagName('table'); 
  // plot table 
  var data_table = getTableDataPlus(tables[0].id, shift_one = true); 
  for(var i = 1; i < tables.length; i++){   // occ tables 
    data_table = data_table + getTableDataPlus(tables[i].id, shift_one = true); 
  } 
  data_table 
} 
 
 
// Get data and optional information from a table. 
//    getTableDataPlus() retrieve table data as well as column names, data types, selects.  
//    @params id_table      A string to specify table id. 
//    @params shift_one     A logical. If true, delete first element. (To delete hide_button) 
//    @return               A string with 4 parts as shown below.  
//                          Each part is JSON format. 
//                            c_names: Column names of table, which will be used for making th. 
//                            d_types: Data types of each column for judging the td and input types. 
//                            selects: Select options for 'list' element. null for other types. 
//                            t_data : Table data for making td values or innnerHTML. 
function getTableDataPlus(id_table, shift_one = false){ 
  // var id_table = "occ_input_table"; 
  var table = document.getElementById(id_table); 
  var c_names = getColNames(table); 
  var d_types = getDataTypes(table); 
  var t_data = []; 
  for(let name of c_names){ 
    t_data[name] = getColData(table, name); 
    if(shift_one) t_data[name].shift();  // delete hide button 
  } 
  var selects = []; 
  for(var i = 0; i < d_types.length; i++){  
    selects.push( (d_types[i] === "list") ? getSelectOne(table, c_names[i]): null)  
  } 
  var t_data = JSON.stringify(Object.assign({}, t_data)); 
  c_names = JSON.stringify({ biss_c_names: c_names }); 
  d_types = JSON.stringify({ biss_d_types: d_types }); 
  selects = JSON.stringify({ biss_selects: selects }); 
  return c_names + ";" + d_types + ";" + selects + ";" + t_data; 
} 
 
// Helper for getInputData() 
//    @params table      A table element. 
//    @params col_names  A string of column name to get options in select element. 
//    @return            An array of select options. 
function getSelectOne(table, col_name){ 
  // var col_name = "Layer"; 
  const col_no = getColNames(table).indexOf(col_name); 
  var options = table.rows[2].cells[col_no].firstChild.options; 
  var sel_opt = []; 
  for(let option of options){ 
    sel_opt.push(option.innerText); 
  } 
  return sel_opt; 
} 
 
 
// Restore table from localStorage 
//    Restore setting or input table data form localStorage.  
//    The data should be saved with saveTable() and genetated by getInputData(). 
//    The data has 4 parts as shown below.  
//      c_names: Column names of table, which will be used for making th. 
//      d_types: Data types of each column for judging the td and input types. 
//      selects: Select options for 'list' element. null for other types. 
//      t_data : Table data for making td values or innnerHTML. 
//    @params table_name  A string to specify table name.  
//                        localStorage key name is "bis_" + table_name. 
//    @return             A table element with id: table_name. 
//    @examples 
//    var table_name = 'occ_input_table_example_01';  
//    localStorage.setItem("bis_" + table_name, data.occ_input_table_example_01); 
//    restoreTable(table_name); 
function restoreTable(table_name, from = "localStorage"){ 
  // input data 
  // console.log(table_name); 
  // var table_name ="occ_input_table_example_01"; 
  // var from = "localStorage"; 
  switch(from){ 
    case "localStorage": 
      var plot = localStorage[ "bis_" + table_name ].split(";") 
      break; 
    default: 
      var plot = data[table_name].split(";"); 
      break; 
  } 
  var table = makeTable(plot, table_name); 
  return table; 
} 
 
function makeTable(plot, table_name){ 
  // console.log(plot); 
  var col_names = JSON.parse(plot[0])["biss_c_names"]; 
  var dat_types = JSON.parse(plot[1])["biss_d_types"]; 
  var selects   = JSON.parse(plot[2])["biss_selects"]; 
  var tab_data  = JSON.parse(plot[3]); 
  // create table 
  var table = crEl({ el: 'table', ats:{id: table_name} }); 
 
  // th 
  const n_col = col_names.length; 
  var hide_col = (table_name.split("_")[0] === "input"); 
  var tr = document.createElement('tr'); 
  for(let Ni = 0; Ni < n_col; Ni++){ 
    if(col_names[Ni] !== ""){ 
      var th = crEl({ el: 'th', ih: col_names[Ni] }); 
      tr.appendChild(th); 
    } 
  } 
  table.appendChild(tr) 
 
  // td: hide buttons 
  if(hide_col){ 
      var tr = document.createElement('tr'); 
      for(let Ni = 0; Ni < n_col; Ni++){ 
        if(col_names[Ni] !== ""){ 
          var td = crEl({ el: 'td', ih: "" }); 
          td.appendChild( crEl({ el: 'input', ats:{type:"button", value:"Hide", onclick:"hideTableCol(this)"} }) );  
          tr.appendChild(td); 
        } 
      } 
      table.appendChild(tr) 
  } 
 
 
  // td 
  const n_row = tab_data[col_names[0]].length; 
  for(let Ri = 0; Ri < n_row; Ri++){ 
    var tr = document.createElement('tr'); 
    for(let Cj = 0; Cj < n_col; Cj++){ 
      tr.appendChild( restoreTd(tab_data[col_names[Cj]][Ri], dat_types[Cj], selects[Cj]) ); 
    } 
    table.appendChild(tr); 
  } 
  return table; 
} 
 
 
// Helper for restoreTable() 
//    @params table_data  A string to specify data in td. 
//    @params data_type   A string to specify data type. 
//    @params select      An array for select-option. 
//    return              An td element with innerText or input element 
function restoreTd(table_data, data_type, select){ 
  switch(data_type){ 
    case "text": 
      var td = crEl({ el: "td" }); 
      td.appendChild( crEl({ el:'input', ats:{type: data_type, value: table_data} }) ); 
      break; 
    case "number": 
      var td = crEl({ el: "td" }); 
      td.appendChild(crEl({ el:'input', ats:{type: data_type, value: table_data, inputmode: "numeric", min: "0"} })); 
      break; 
    case "checkbox": 
      var td = crEl({ el: "td" }); 
      var checkbox = crEl({ el:'input', ats:{type: data_type} }); 
  //       if(!!table_data) checkbox.setAttribute("checked", true); 
      checkbox.checked = !!table_data; 
      td.appendChild( checkbox ); 
      break; 
    case "fixed": 
      var td = crEl({ el:'td', ih: table_data }); 
      break; 
    case "button": 
      if(table_data === "DELETE")           { var td = createTdWithChild( createDelButton() ); } 
      if(table_data === "UPDATE_TIME_GPS"){ var td = createTdWithChild( createUpdateButton() ); } 
      break; 
    case "list": 
      var sel_no = select.indexOf(table_data); 
      var td = createTdWithChild( createSelectOpt(select, sel_no) ); 
      break; 
  } 
  return td; 
}</script> <script>// Helper to create input tag with attributes such as class, id, type, value, and placeholder. 
//    @paramas ...args Some arguments. 
//    @return  An input element. 
//    @examples 
//    createInput({ type: "text", value: "Val"}); 
//    createInput({ type: "button", value: "Push here"}); 
function createInput( ...args ){ 
  var input = document.createElement('input'); 
  var keys  = Object.keys(args[0]); 
  for(let key of keys){ 
    input.setAttribute(key, args[0][key]); 
  } 
  return input; 
} 
 
function updateAllInputsTablesButton(){ 
  return crEl({ el:'input', ats:{type:'button', id:'update_all_inputs_tables_button', value:'Update all inputs tables', onclick: 'updateAllInputsTables(this)'} }); 
} 
function createDelButton(){ 
  return createInput({ type: "button", value: "DELETE", onclick: "delRow(this)" }); 
} 
function createUpdateButton(){ 
  return createInput({ type: "button", value: "UPDATE_TIME_GPS", onclick: "updateTimeGPS(this)" }); 
} 
function createStartGPSButton(){ 
  return createInput({ type: "button", value: "Start GPS", onclick: "startGPS(this)" }); 
} 
function createStopGPSButton(){ 
  return createInput({ type: "button", value: "Stop GPS", onclick: "stopGPS(this)" }); 
} 
function createFitTable(id){ 
  return createInput({ type:"button", value: "Fit width", onclick: "shortTable(this)", id: id}); 
} 
function createWideTable(){ 
  return createInput({ type:"button", value: "Extend width", onclick: "wideTable(this)" }); 
} 
function createHideRowButton(row = "row"){ 
  return createInput({ type:"button", value: "Hide " + row, onclick: "hideRow(this)" }); 
} 
function createShowRowButton(row = "row"){ 
  return createInput({ type:"button", value: "Show " + row, onclick: "showRow(this)" }); 
} 
function createMakePlotButton(){ 
  return createInput({ type:"button", value: "Make plot table", onclick: "makePlotInputModule(this)" }); 
} 
function createFileButton(){ 
  return createInput({ type: "file", accept: ".conf", onchange: "replaceTable(this)" }); 
} 
function createSaveSettingButton(){ 
  return createInput({ type: "button", value: "Save settings", onclick: "saveSettings(this)" }); 
} 
function createSaveButton(){ 
  return createInput({ type: "button", value: "Save", onclick: "saveSettings(this)" }); 
} 
function createSaveInputButton(){ 
  return createInput({ type: "button", value: "Save inputs", onclick: "saveInputs(this)" }); 
} 
function createShowColButton(c_name){ 
  return createInput({ type: "Button", value: c_name, onclick: "showCol(this)" }); 
} 
function createSumButton(){ 
  return createInput({ type: "Button", value: "Calculate", onclick: "sumWithGroup(this)" }); 
} 
function createSearchInput(){ 
  return createInput({ type:"text", onkeyup: "searchTableText(this)", placeholder: "Search text" }); 
} 
function createSearchShowInput(){ 
  return createInput({ type:"text", placeholder: "Input text" }); 
} 
function createSearchShowButton(){ 
  return createInput({ type: "button", value: "Search text", onclick: "searchTableTextShow(this)" }); 
} 
function createNrowInput(id){ 
  return createInput({ type: "number", value: "1", step: "1", min: "1", max:"20", id: id }); 
} 
function createAddRowButton(id){ 
  return createInput({ type: "button", value: "Add row(s)", onclick: "addRows(this)", id: id }); 
} 
function createHideButton(){ 
  return createInput({ type: "button", value: "Hide table", onclick: "hideShowNext(this)" }); 
} 
function createNewOccButton(){ 
  return createInput({ type: "button", value: "New occ table", onclick: "makeNewOccTableModule(this)" }); 
}</script> <script>//  
//  
//  
//  
function addSettingPart(category, obj){ 
  //   console.log(category);   //  "plot" or "occ" 
  //   console.log(obj.value);  //  items to add 
  //   var obj = temp1; obj  var obj = temp1; obj.parentNode.nextSibling.nextSibling.nextSibling; 
  var table_category = "_" + category + "_tb"; 
  var table = document.getElementById('tab_settings').querySelector("table[id$='" + table_category + "']"); 
  var values = data_settings_part[category][obj.value]; 
 
  var keys = Object.keys(values); 
  var n = values[keys[0]].length; 
 
  for(let i = 0; i < n; i++){ 
    var json = '{'; 
    for(let key of keys){ 
      var json = json + '"' + key + '":"' + values[key][i] + '",'; 
    } 
    var json = json.slice(0, -1) + '}'; 
  // console.log( table ); 
  // console.log( JSON.parse(json) ); 
    addRowWithValues({ table: table, values: JSON.parse(json) }); 
  } 
} 
 
function addSettingPartButton(category){ 
  var keys = Object.keys(data_settings_part[category]); 
  var main = crEl({ el:'span'}); 
  main.appendChild( crEl({ el: 'span', ih: 'Add items to <b>' + category + '</b>: ' }) ); 
  for(let key of keys){ 
    var input = crEl({ el:'input', ats:{ type:'button', value: key, onclick: 'addSettingPart("' + category + '", this)'} }); 
    main.appendChild(input); 
  } 
  main.appendChild( crEl({ 'el': 'br' }) ); 
  return main; 
} 
 
function createSettingSelect(){ 
  var main = crEl({ el:'span' }); 
  main.appendChild( crEl({ el: 'span', ih: 'Choose <b>main</b> setting: ' }) ); 
  var settings = Object.keys(data_settings); 
  var selects = createSelectOpt(settings, selected_no = 0, id = 'select_settings'); 
  selects.setAttribute('onChange', 'changeSettings(this)'); 
  main.appendChild(selects); 
  main.appendChild( crEl({ 'el': 'br' }) ); 
  return main; 
} 
 
function changeSettingsByName(ns){ 
  var select = document.getElementById('select_settings'); 
  select.selectedIndex = getSelectOptionInCell(select).indexOf(ns) 
  changeSettings(select); 
} 
function changeSettings(obj){ 
  var setting = obj.value; 
  var new_plot_module = tableModule({ table_data: data_settings[setting].plot, ns: setting + '_plot', 
                                      id_text: true, load_button: true, save_button: true, hide_button: true,  
                                      add_button: true }); 
  var new_occ_module = tableModule({ table_data: data_settings[setting].occ, ns: setting + '_occ', 
                                      id_text: true, load_button: true, save_button: true, hide_button: true,  
                                      add_button: true }); 
  var old_plot_module = obj.parentNode.nextSibling.nextSibling.nextSibling.nextSibling; 
  old_plot_module.replaceWith(new_plot_module); 
  var old_occ_module = new_plot_module.nextSibling; 
  old_occ_module.replaceWith(new_occ_module); 
  setSortable(setting + '_plot_tb'); 
  setSortable(setting + '_occ_tb'); 
} 
 
// Create table module 
//   In a module has a table and other input elements,  
//   which operate the table. 
// @paramas table_data     
// @paramas ns            A string to specify input table module. 
// @retrun  A span including a table and other elements. 
function tableModule({ table_data, ns,  
                       id_text, search_input, load_button, save_button, hide_button, fit_button,  
                       add_button, calc_button }){ 
  var main  = crEl({ el:'span', ats:{id: ns} }); 
  // Up span 
  var up = crEl({ el:'span', ats:{id: ns + "_up"} }); 
  if(id_text      != void 0){   up.appendChild( crEl({ el: 'B', tc: ns}) );  
                                up.appendChild( crEl({ el: 'br' }) ); 
  } 
  if(load_button  != void 0){   up.appendChild( crEl({ el: 'span', ih: "<b>Load: </b>" }) ); 
                                up.appendChild( createFileButton() ); 
  } 
                              //     up.appendChild( crEl({ el: 'br' }) ); 
  if(save_button  != void 0){   up.appendChild( createSaveButton() ); 
                                up.appendChild( createInput({ type: "text", placeholder: "File name" }) ); 
                                up.appendChild( crEl({ el: 'br' }) ); 
  } 
  if(search_input != void 0)    up.appendChild( createSearchInput() ); 
  if(hide_button  != void 0)    up.appendChild( createHideButton() ); 
  if(fit_button   != void 0)    up.appendChild( createFitTable( ns + '_fit' ) );  
 
  up.appendChild( crEl({ el: 'br'  }) ); 
  up.appendChild( crEl({ el: 'span'}) ); // for show button 
 
  // Table 
  var table = makeTableJO(table_data, ns + "_tb"); 
 
  // Down span 
  var dn = crEl({ el:'span', ats:{id: ns + "_dn"} }); 
  if(add_button  != void 0){    dn.appendChild( createNrowInput( ns + '_nrow') ); 
                                dn.appendChild( createAddRowButton( ns + '_add_rows') ); 
  } 
  if(calc_button != void 0){    dn.appendChild( crEl({ el: 'br' }) ); 
                                dn.appendChild( crEl({ el: 'span', ih: "<b>Value: </b>" }) ); 
                                dn.appendChild( createSelectOpt( colByType(table, "number") ) ); 
                                dn.appendChild( crEl({ el: 'span', ih: "; <b>Group: </b>" }) ); 
                                dn.appendChild( createSelectOpt( colByType(table, "list") ) ); 
                                dn.appendChild( createSumButton() ); 
  } 
 
  main.appendChild(up); 
  main.appendChild(table); 
  main.appendChild(dn); 
  main.appendChild( crEl({ el: 'hr' }) ); 
 
  return main; 
} 
 
 
// Create occurrence table module 
//   @paramas obj  A input element. 
//                 Normally use "this".  
//   @retrun  A span including a table and other elements. 
function makeNewOccTableModule(obj){ 
  var table = makeNewOccTable(obj); 
  if(table === null){ return void 0 ;}  // no table 
  var module = inputTableModule(table.id, table = table); 
  var tab_inputs = document.getElementById("tab_inputs"); 
  tab_inputs.appendChild(module); 
  setSortable(table.id); 
  obj.setAttribute("disabled", true) 
} 
 
// Helper for makeNewOccTableModule() 
//   @paramas obj  A input element. 
//                 Normally use "this".  
//   @retrun  A table element. 
function makeNewOccTable(obj){ 
  // var obj = temp1; 
  var tr = obj.parentElement.parentElement; 
  var table = obj.parentElement.parentElement.parentElement; 
  var c_no = getColNames(table).indexOf("PLOT"); 
  var plot = tr.cells[c_no].firstChild.value; 
  if(plot === ""){ 
    alert("Input PLOT!"); 
    return null; 
  } 
  if(hasDupPlot(plot)){ return null;} 
  // create new input table for occurrence and appendChild() 
  var tab_settings = document.getElementById("tab_settings"); 
  var setting_table = tab_settings.querySelectorAll("table")[1]; 
  var table = makeOccTable(setting_table, plot); 
  return table; 
} 
 
// Make plot input module 
//   @paramas obj  A input element. 
//                 Normally use "this".  
//   @retrun  A plot input module and change input tab. 
function makePlotInputModule(obj){ 
  var table = makePlotTable(obj); 
  var module = inputTableModule(table.id, table); 
  var tab_inputs = document.getElementById("tab_inputs"); 
  tab_inputs.appendChild(module); 
  setSortable(table.id);  // Should setSortable() after appendChild() 
  shortTable(table.previousElementSibling.children[3])  // Short table 
  tabs[1].click();        // move to tab_inputs 
} 
 
 
// Helper for makeOccTable() and makePlotTable() 
//   td is basic element, createInputTd() create  
//   from data type, column name, and  optional. 
//   @paramas dat_type  A string to specify data type. 
//   @paramas col_name  A string to specify column name. 
//   @paramas optional  A string to specify optional. 
//   @return  A td element 
function createInputTd(dat_type, col_name, optional){ 
  // console.log(dat_type); 
  // console.log(col_name); 
  // console.log(optional); 
  var td = document.createElement('td'); 
  //   var col_name = col_name.toLowerCase(); 
  switch(dat_type){ 
    case "auto": // date, no, GPS 
      if(col_name === "DATE")    td.innerHTML = getNow(); 
      if(col_name === "LOC_LAT") td.innerHTML = getLat(); 
      if(col_name === "LOC_LON") td.innerHTML = getLon(); 
      if(col_name === "LOC_ACC") td.innerHTML = getAcc(); 
      if(col_name === "NO")      td.innerHTML = 1; 
      if(col_name === "SameAs")  td.innerHTML = ''; 
      break; 
    case "button": // DELETE, update button 
      if(col_name === "DELETE")   { td.appendChild( createDelButton() );    }; 
      if(col_name === "UPDATE_TIME_GPS"){ td.appendChild( createUpdateButton() ); }; 
      break; 
    case "fixed": 
      if(optional === ""){  
//        alert("Fixed columns should be input!"); 
        var optional = "NO INPUT"; 
      } 
      td.innerHTML = optional; 
      break; 
    case "checkbox": 
      td.appendChild(createInput({ type: dat_type })); 
      td.firstChild.checked = !!optional; 
      break; 
    case "text": 
      td.appendChild(createInput({ type: dat_type })); 
      break; 
    case "number": 
      td.appendChild(createInput({ type: dat_type, inputmode: "numeric", min: "0"} )); 
      break; 
    case "list": 
      arry_list = optional.split(':').concat(Array("")); 
      td.appendChild(createSelectOpt(arry_list, arry_list.length - 1)); 
      break; 
  } 
  return td; 
} 
 
// DONE: update date GPS 
 
// Update "DATE", "LOC_LAT", "LOC_LON", "LOC_ACC" 
//    When "Update" bottun clicked, update informations in the row. 
//    @paramas obj Clicked row. 
//    @return null. 
function updateTimeGPS(obj){ 
  // settings 
  // var obj = temp1; 
  var cols = ["DATE", "LOC_LAT", "LOC_LON", "LOC_ACC"]; 
  var funs = [getNow, getLat, getLon, getAcc] 
  var table = searchParentTable(obj); 
  var tr = obj.parentNode.parentNode; 
  var row_no = tr.sectionRowIndex; 
  // update 
  for(let i = 0; i < cols.length; i++){ 
    var col_no = getColNames(table).indexOf(cols[i]); 
    var cell = table.rows[row_no].cells[col_no]; 
    cell.innerHTML = funs[i](); 
  } 
} 
 
// DONE:  
 
// Sum numeric with groups. 
//     In BISS, number input is the subject to sum,  
//     list input is the options to group. 
//   @paramas obj  A input element. 
//                 Normally use "this".  
function sumWithGroup(obj){ 
  var array = obj.previousElementSibling.previousElementSibling.previousElementSibling.value; 
  var group = obj.previousElementSibling.value; 
  var table = obj.parentNode.parentNode.querySelectorAll("table")[0]; 
  var array_val = getColData(table, array); 
  var group_val = getColData(table, group); 
  var grouped_array = splitByGroup(array_val, group_val); 
  // set groups order with 'list' 
  var c_no = getColNames(table).indexOf(group); 
  var opts = table.rows[2].cells[c_no].firstChild.options; 
  var groups = []; 
  for(let o of opts){ groups.push(o.value); } 
  var sum_array = []; 
  for(let i = 0; i < groups.length; i++){ sum_array[groups[i]] = 0; } 
  for(let i = 0; i < groups.length; i++){ 
    if(grouped_array[groups[i]] !== void 0){ 
      var gr_ar = grouped_array[groups[i]]; 
      for(let j = 0; j < gr_ar.length; j++){ 
        sum_array[groups[i]] += Number(gr_ar[j]); 
      } 
    } 
  } 
  for(let i = 0; i < groups.length; i++){ 
    sum_array[groups[i]] = Math.round(sum_array[groups[i]] * 10000) / 10000;  // avoid dicimal error 
    if(sum_array[groups[i]] === 0){ delete sum_array[groups[i]]; } 
  } 
  sum = hash2table(sum_array); 
  // add th 
  var tr = document.createElement('tr'); 
  tr.appendChild( crEl({ el: 'th', tc: group }) ); 
  tr.appendChild( crEl({ el: 'th', tc: array }) ); 
  sum.insertBefore(tr, sum.firstChild); 
  // Show sum 
  if(obj.parentNode.lastElementChild === obj){ 
    obj.parentNode.appendChild(sum); 
  } else { 
    obj.parentNode.replaceChild(sum, obj.parentNode.lastElementChild); 
  } 
} 
 
 
 
// DONE: utils ??? 
//    @paramas table  A table element. 
//    @paramas type   A string to specify a data type,  
//                    which can be retrive by getDataTypes() as shown below. 
//                    "fixed", "text", "button", "checkbox", 'list','number'.  
//    @return  A string array. 
//    @examples 
function colByType(table, type){ 
  var types = getDataTypes(table); 
  var c_names = getColNames(table); 
  var cols = []; 
  for(let i = 0; i < types.length; i++){ 
    if(types[i] === type){ cols.push(c_names[i]); } 
  } 
  return cols; 
} 
 
// Create td with a child element.  
//    @paramas child A child element. 
//    @return  A td element with a child element 
function createTdWithChild(child){ 
  var td = document.createElement('td'); 
  td.appendChild(child); 
  return td; 
} 
 
// Check if the same plot has already existed.  
//   @paramas plot A string to specify plot. 
//   @return  A logical. 
function hasDupPlot(plot){ 
  var tab_inputs = document.getElementById("tab_inputs"); 
  var input_tables = tab_inputs.querySelectorAll("table"); 
  for(let table of input_tables){ 
    if(table.id.split("_")[1] === "occ"){ 
      if(table.id.split("_")[2] === plot){ 
        alert("Duplicated PLOT!"); 
        return true; 
      } 
    } 
  } 
  return false; 
} 
 
 
// DONE: Save and load Settings  
 
// Load settings and replace setting table for plot or occurrence. 
//   @paramas obj  A input element. 
//                 Normally use "this".  
async function replaceTable(obj){ 
  var text = await readFile(obj.files[0]); 
  var text = text.split(";"); 
  var table_name = obj.value.split("\\").slice(-1)[0].replace("\.conf", "") 
  var new_table = makeTable(text, table_name, false); 
  // Table 
  var old_table = obj.parentNode.parentNode.querySelectorAll("table")[0]; 
  old_table.replaceWith(new_table); 
  // Title 
  var old_title = obj.parentNode.parentNode.querySelectorAll("b")[0]; 
  var new_title = crEl({ el: 'B', tc: table_name}) 
  old_title.replaceWith( new_title ); 
} 
// Helper for replaceTable().  
function readFile(file){ 
  // https://www.delftstack.com/ja/howto/javascript/open-local-text-file-using-javascript/ 
  return new Promise((resolve, reject) => { 
    let reader = new FileReader(); 
    reader.onload = x=> resolve(reader.result); 
    reader.readAsText(file); 
  }) 
} 
 
// Save settings of plot or occurrence data. 
//   @paramas obj  A input element. 
//                 Normally use "this".  
function saveSettings(obj){ 
  var table = obj.parentNode.parentNode.querySelectorAll("table")[0]; 
  var table_data = getTableDataPlus(table.id, shift_one = false); 
  var f_name = obj.previousElementSibling.value; 
  if(f_name === ""){  
    f_name = table.id + ".conf";  
  } else { 
    f_name = table.id.split("_")[0] + "_" + table.id.split("_")[1] + "_" + f_name  + ".conf"; 
  } 
  downloadStrings(strings = table_data, file_name = f_name) 
} 
 
// Save inputs of a table 
//   @paramas obj  A input element. 
//                 Normally use "this".  
function saveInputs(obj){ 
  var table = obj.parentNode.parentNode.querySelectorAll("table")[0]; 
  var table_data = getTableDataPlus(table.id, shift_one = true); 
  var f_name = table.id + "_" + getNow() + ".txt" 
  downloadStrings(strings = table_data, file_name = f_name) 
} 
 
// Load example data 
//   Using in example.html, run like as click buttons in html. 
//   @paramas obj  A input element. 
//                 Normally use "this".  
function loadExample(obj){ 
  // PLOT 
  var make_plot_button = document.getElementById("dn_setting_plot_default").children[2]; 
  make_plot_button.click(); 
  var table = document.getElementById("input_plot_default"); 
  table.rows[2].cells[1].firstChild.value = "exam01"; 
  table.rows[2].cells[0].firstChild.click() 
  // occ 
  var main = obj.parentNode; 
  var main = document.getElementById("tab_inputs"); 
  var occ_example = "input_occ_exam01"; 
  var new_module = inputTableModule(occ_example); 
  main.children[4].replaceWith(new_module); 
  setSortable(occ_example); // Can not set sortable in a function 
 
  obj.nextElementSibling.remove(); // <br> 
  obj.remove(); 
} 
 
// dn.appendChild( createSelectOpt( colByType(table, "number") ) ); 
// dn.appendChild( createSelectOpt( colByType(table, "list") ) ); 
// dn.appendChild( createSumButton() ); 
// table = document.getElementById("input_occ_a_tb"); 
// colByType(table, "number")</script> <script>// addRowWithValues({ table:document.getElementById('full_plot_tb'), values:{ item:"new_item", type:"auto", value:"new_value", DELETE:"del"} }); 
function addRowWithValues({ table, values }){ 
  // var table = document.getElementById('input_occ_a_tb'); var layer = 'H'; var species = 'new_species'; 
  // var table = document.getElementById('full_plot_tb'); var key = "item"; value = "new_val"; 
  addRow(table); 
  var c_names = getColNames(table); 
  var keys = Object.keys(values); 
  var row_no   = table.rows.length - 1; 
  for(let key of keys){ 
    var col_no = c_names.indexOf(key); 
    var td = table.rows[row_no].cells[col_no]; 
    var value = (values[key] === void 0) ? '' : values[key]; 
  // console.log(td); 
  // console.log(values); 
  // console.log(key); 
    if(td.firstChild === null){ 
      td.innerHTML = value; 
    }else{ 
      if(td.firstChild.value === void 0){ 
        td.innerHTML = value; 
      }else{ 
        td.firstChild.value = value; 
      } 
    } 
  } 
} 
 
// Helper to call addRow() multiple times 
//    @paramas obj  A input element. 
//                  Normally use "this".  
//    In BISS, addRows() is generated by createAddRowButton() as below.  
//      createNrowInput() is necessary as well. 
//       
//      // Down span 
//      var dn = crEl({ el:'span', ats:{id: "dn_" + ns} }); 
//      dn.appendChild( createNrowInput() ); 
//      dn.appendChild( createAddRowButton() ); 
//      // Main 
//      var main   = crEl({ el:'span', ats:{id: "main_"   + ns} }) 
//      main.appendChild(up); 
//      main.appendChild(table); 
//      main.appendChild(dn); 
//      main.appendChild( crEl({ el: 'hr' }) ); 
function addRows(obj){ 
  // console.log(obj); 
  //   var table = obj.parentNode.parentNode.querySelectorAll("table")[0]; 
  var n_row = obj.previousElementSibling.value; 
  var table = searchParentTable(obj); 
  for(let i = 0; i < n_row; i++){ addRow(table); } 
} 
 
// Copy buttom row and paste it as new rows 
//    Column date  getNow() will be applied. 
//    Column fixed and <select> <option> will be used the same selection. 
//    Column "checkbox" and "text" will be made as unchecked and blank one. 
//     
function addRow(table){ 
  // console.log(table); 
  const col_names = getColNames(table); 
  const n_col = col_names.length; 
  const n_row = table.rows.length; 
  var last_row = table.rows[n_row - 1];  // to get selectedIndex 
  var next_row = table.rows[n_row - 1].cloneNode(true); 
  for(let Ci = 0; Ci < n_col; Ci++){ 
    switch(col_names[Ci]){ 
      case "DATE":  // update "DATE" 
        next_row.children[Ci].innerHTML = getNow(); 
        break; 
      case "LOC_LAT":  // update GPS data 
        next_row.children[Ci].innerHTML = getLat(); 
        break; 
      case "LOC_LON": 
        next_row.children[Ci].innerHTML = getLon(); 
        break; 
      case "LOC_ACC": 
        next_row.children[Ci].innerHTML = getAcc(); 
        break; 
      case "UPDATE_TIME_GPS": // do nothing 
      case "DELETE":          // do nothing 
        break; 
      case "NO":             // no = max(no) + 1 
        var nos = getColData(table, col_names[Ci]); 
        next_row.children[Ci].innerHTML = Math.max.apply(Math, string2Numeric(nos)) + 1; 
        break; 
      case "SameAs":        // clear 
        next_row.children[Ci].innerHTML = ""; 
        break; 
      default: 
        if(next_row.children[Ci].firstChild.value === void 0){   
          // void 0 means undifined -> fixed text: do nothing 
          break; 
        } else { 
          switch(next_row.children[Ci].firstChild.getAttribute("type")){ 
            case "text":    // clear input text 
            case "number":  // clear input text 
              next_row.children[Ci].firstChild.value = ""; 
              break; 
            case null:      // select from list 
              selected_opt = last_row.children[Ci].firstChild.selectedIndex; 
              next_row.children[Ci].firstChild.selectedIndex = selected_opt; 
              break; 
            case "checkbox": // do nothing 
  // if want 'Identified' checked and others no checked -> activate the codes below 
  //               if(col_names[Ci] === 'Identified'){ next_row.children[Ci].firstChild.checked = true;  
  //               }else{                              next_row.children[Ci].firstChild.checked = false; } 
              break; 
          } 
        } 
        break; 
    } 
  } 
  table.appendChild(next_row); 
}</script> <script>// Change table view wide <--> short.  
//   Short table hide th and show label in td. 
//    
//    In BISS, input button is generated by following functions. 
//        createFitTable() 
//        createWideTable 
//    @paramas obj   A input element. 
//                   Normally use "this".  
//    @paramas table A table element. 
function shortTable(obj){ 
  var table = obj.parentNode.nextElementSibling; 
  var rows = table.rows; 
  rows[0].style.display = 'none';          //  0: colnames 
  rows[1].style.display = 'none';          //  1: hide buttons 
  for(let Ri = 2; Ri < rows.length; Ri++){ //  2: data 
    var tr = rows[Ri]; 
    tr.style.display = "flex"; 
    tr.style["flex-wrap"] = "wrap"; 
  } 
  addThLabel(table); 
  obj.replaceWith( createWideTable() ); 
} 
function wideTable(obj){ 
  var table = obj.parentNode.nextElementSibling; 
  var rows = table.rows; 
  for(let Ri = 0; Ri < rows.length; Ri++){ 
    var tr = rows[Ri]; 
    tr.style.display = ""; 
    tr.style["flex-wrap"] = ""; 
  } 
  removeThLabel(table); 
  obj.replaceWith( createFitTable() ); 
} 
function addThLabel(table){ 
  var c_names = getColNames(table); 
  var rows = table.rows; 
  for(let Ri = 1; Ri < rows.length; Ri++){ 
    var row = rows[Ri]; 
    for(let Cj = 0; Cj < row.cells.length; Cj++){ 
      var td = row.cells[Cj]; 
      td.setAttribute("th-lab", c_names[Cj] + ": ") 
    } 
  } 
} 
function removeThLabel(table){ 
  var rows = table.rows; 
  for(let Ri = 1; Ri < rows.length; Ri++){ 
    var row = rows[Ri]; 
    for(let Cj = 0; Cj < row.cells.length; Cj++){ 
      var td = row.cells[Cj]; 
      td.removeAttribute("th-lab"); 
    } 
  } 
}</script> <script>// Hide / show row or column in a table 
//    In BISS, input button is generated by following functions. 
//        createFitTable() 
//        createWideTable() 
//        createHideRowButton() 
//        createShowRowButton() 
//        createShowColButton() 
//    @paramas obj  A input element. 
//                  Normally use "this".  
function showRow(obj){ 
  var tr = obj.parentNode.parentNode; 
  //  var table = obj.parentNode.parentNode.parentNode; 
  var table = searchParentTable(obj); 
  var c_names = getColNames(table); 
  if(table.rows[0].style.display === 'none'){ 
    var disp = 'inline-block'; 
  }else{ 
    var disp = ''; 
  } 
  for(let i = 0; i < tr.cells.length; i++){ 
    var td = tr.cells[i]; 
  //     var label = c_names[i].toLowerCase(); 
    var label = c_names[i]; 
    switch(label){ 
      case "PLOT": // remain td 
        break; 
      default: 
        td.style.display = disp; 
        break; 
    } 
  } 
  obj.replaceWith( createHideRowButton("plot info") ); 
} 
function hideRow(obj){ 
  var tr = obj.parentNode.parentNode; 
  //  var table = obj.parentNode.parentNode.parentNode; 
  var table = searchParentTable(obj); 
  var c_names = getColNames(table); 
  for(let i = 0; i < tr.cells.length; i++){ 
    var td = tr.cells[i]; 
  //     var label = c_names[i].toLowerCase(); 
    var label = c_names[i]; 
    switch(label){ 
      case "PLOT": // remain td 
        break; 
      default: 
        td.style.display = 'none'; 
        break; 
    } 
  } 
  obj.parentNode.style.display = ''; // show button 
  obj.replaceWith( createShowRowButton("plot info") ); 
} 
function showAllCols(obj){ 
  var table = searchParentTable(obj); 
  for(let Ci = 0; Ci < table.rows[0].cells.length; Ci++){ 
    for(let Rj = 0; Rj < table.rows.length; Rj++){ 
      table.rows[Rj].cells[Ci].style.display = ''; 
    } 
  } 
  obj.parentNode.textContent = ""; 
} 
function hideTableCol(obj){ 
  // console.log(obj.parentNode.parentNode.parentNode); 
  var table = searchParentTable(obj); 
  var c_no = obj.parentElement.cellIndex; 
  var c_name = table.rows[0].cells[c_no].innerText; 
  // console.log(c_name); 
  for(let Rj = 0; Rj < table.rows.length; Rj++){ 
    table.rows[Rj].cells[c_no].style.display = 'none'; 
  } 
  var span = table.previousElementSibling.lastChild; 
  // console.log(span); 
  // tc: "Show " 
  if(span.children.length === 0){ 
    span.textContent = "Show: "; 
    span.appendChild( createInput({ type:"button", value:"All cols", onclick:"showAllCols(this)"}) ); 
  } 
  span.appendChild( createShowColButton(c_name) ); 
} 
function showCol(obj){ 
  // show col 
  var c_name = obj.value; 
  var table = searchParentTable(obj); 
  var c_no = getColNames(table).indexOf(c_name); 
  for(let Rj = 0; Rj < table.rows.length; Rj++){ 
      table.rows[Rj].cells[c_no].style.display = ''; 
  } 
  // remove 
  if(obj.parentNode.children.length === 1){ obj.parentNode.textContent = ""; } 
  obj.remove(); 
} 
function hideShowNext(obj){ 
  // console.log(obj); 
  // console.log(obj.parentNode.nextElementSibling); 
  var span   = obj.nextElementSibling.nextElementSibling; 
  var next   = obj.parentNode.nextElementSibling; 
  var next_2 = obj.parentNode.nextElementSibling.nextElementSibling; 
  if(next.style.display === 'none'){ 
    span.style.display = ''; 
    next.style.display = ''; 
    next_2.style.display = ''; 
    obj.value = "Hide table"; 
  } else { 
    span.style.display = 'none'; 
    next.style.display = 'none'; 
    next_2.style.display = 'none'; 
    obj.value = "Show table"; 
  } 
}</script> <script>// Search text input tags in a table and show only matching rows 
//    Results are shown immediately. 
//    Using in Input Table. 
//    Clear input text, ALL rows will be shown. 
//    Regular expression can be used. 
//    @paramas obj  A input element. 
//                  Normally use "this".  
function searchTableText(obj){ 
  // console.log(obj); 
  // console.log(obj.value); 
  // console.log(obj.parentNode.nextElementSibling); 
  var input = obj.value; 
  var reg_ex = new RegExp(input, 'i');  // i: case-insensitive 
  var table = obj.parentNode.parentNode.querySelectorAll("table")[0]; 
  var trs   = table.rows; 
  //   var data_types = getDataType(table); 
  var data_types = getDataTypes(table); 
  var display_flag = [1];                // 1: show first row (th) 
  for(let Rj = 1; Rj < trs.length; Rj++){ display_flag[Rj] = 0; } 
  for(let Ci = 0; Ci < data_types.length; Ci++){ 
    if(data_types[Ci] === "text"){ 
      for(let Rj = 1; Rj < trs.length; Rj++){ 
        var text = getCellData(trs[Rj].cells[Ci]); 
        if(reg_ex.test(text)){ display_flag[Rj]++; } 
      } 
    } 
  } 
  for(let k = 1; k < display_flag.length; k++){ 
    if(display_flag[k] > 0) { trs[k].style.display = "";     } 
    else                    { trs[k].style.display = "none"; } 
    if(input === "")        { trs[k].style.display = ""; } 
  } 
} 
 
// Search text input tags in a table and show only matching rows 
//    Results are shown after button is pushed. 
//    Using in Wamei saerch.  
//    Clear input text, NO rows will be shown. 
//    Regular expression can be used. 
//    Spaces means match all text.  
//        ex.) "aaa bbb" matches texts including both "aaa" and "bbb". 
//    @paramas obj  A input element. 
//                  Normally use "this".  
function searchTableTextShow(obj){ 
  var input = obj.previousElementSibling.value; 
  var table = obj.parentNode.parentNode.querySelectorAll("table")[0]; 
  var trs    = table.rows; 
  if(input === ""){ 
    for(let Rj = 1; Rj < trs.length; Rj++){ 
      trs[Rj].style.display = "none"; 
    } 
    return void 0; 
  } 
  // look ahead: https://www-creators.com/archives/5332 
  input = "^(?=.*" + input.replaceAll(" ", ")(?=.*") + ").*$"; 
  var reg_ex = new RegExp(input, 'i');  // i: case-insensitive 
  var matches = 0; 
  for(let Rj = 1; Rj < trs.length; Rj++){ trs[Rj].style.display = "none"; } 
  for(let Rj = 1; Rj < trs.length; Rj++){ 
    if(matches > 101){ 
      alert("Over 100 matches, showing 100 matches") 
      return void 0; 
    } 
    var text = trs[Rj].cells[0].innerText; 
    if(reg_ex.test(text)){ 
      trs[Rj].style.display = ""; 
      matches++; 
    } 
  } 
}</script> <script>function changeTab(){ 
  var ref = decodeURI(this.href);  // For multibyte character 
  var targetid = ref.substring(ref.indexOf('#')+1, ref.length); 
// console.log([ref,targetid]); 
  // show delected tab 
  for(var i = 0; i < pages.length; i++) { 
    if( pages[i].id != targetid ) { 
      pages[i].style.display = "none"; 
    } 
    else { 
      pages[i].style.display = "block"; 
    } 
  } 
  // show front 
  for(var i = 0; i < tabs.length; i++) { 
    tabs[i].style.zIndex = "0"; 
  } 
  this.style.zIndex = "10"; 
 
  // needs not to move tab 
  return false; 
} 
 
function updateTab(){ 
  // get elements 
  var tabs = document.getElementById('tabcontrol').getElementsByTagName('a'); 
  var pages = document.getElementById('tabbody').getElementsByTagName('div'); 
  // when clicked, enable to run changeTab() in all tab 
  for(var i = 0; i < tabs.length; i++) { 
    tabs[i].onclick = changeTab; 
  } 
} 
 
function addPlotId(plot_data, id){ 
  // var plot_data = temp1; 
  plot_data['biss_c_names'].unshift('PLOT'); 
  plot_data['biss_d_types'].unshift('fixed'); 
  plot_data['biss_selects'].unshift(''); 
  plot_data['biss_inputs']['PLOT'] = [id]; 
  return plot_data; 
} 
 
function addPlotNo(plot_data, no){ 
  // var plot_data = temp1; 
  plot_data['biss_c_names'].unshift('NO'); 
  plot_data['biss_d_types'].unshift('fixed'); 
  plot_data['biss_selects'].unshift(''); 
  plot_data['biss_inputs']['NO'] = [no]; 
  return plot_data; 
} 
 
function getPlotMaxNo(){ 
  var tables = document.querySelectorAll("table[id^='input_plot']"); 
  var max_no = [0]; 
  for(let tb of tables){ 
    max_no.push(getColData(tb, "NO")[0]); 
  } 
  return Math.max.apply(Math, string2Numeric(max_no)); 
} 
 
// Add a tab 
//   in progress 
function addInputTab({ obj, id }){ 
  // input PLOT name 
  if(id == void 0){ 
    var id = prompt("Input PLOT name", ""); 
  } 
  if(null === id){  
    return void 0; 
  } 
  if(/_/.test(id)){ 
    alert("PLOT should NOT include '_' !\n Please use '-' instead."); 
    return void 0;  
  } 
  if('' === id){ 
    alert("PLOT should NOT be empty!"); 
    return void 0;  
  } 
  if(null !== document.getElementById(id)){ 
    alert(id + " is already exist. PLOT should NOT be DUPLICATED!"); 
    return void 0;  
  } 
  // create tabcontrol 
  var a = crEl({ el: 'a', ats: {href: "#" + id}, ih: id }); 
  document.getElementById('tabcontrol').insertBefore(a, obj); 
 
  // create tabbody 
  var tabbody = document.getElementById('tabbody'); 
  var div = crEl({ el: 'div', ats: {id: id} }); 
  tabbody.appendChild(div); 
 
  // create input tables 
      // PLOT 
  //   var plot_setting = convertTableData( getTableData( document.getElementById("setting_plot_tb"))); 
  var plot_setting = convertTableData( getTableData( document.getElementById('tab_settings').getElementsByTagName('table')[0] ) ); 
  var plot_setting = addPlotNo(plot_setting, getPlotMaxNo() + 1); 
  var plot_setting = addPlotId(plot_setting, id); 
      // OCC 
  //   var occ_setting  = convertTableData( getTableData( document.getElementById("setting_occ_tb" ))) 
  // console.log(getTableData( document.getElementById('tab_settings').getElementsByTagName('table')[1] )); 
  var occ_setting = convertTableData( getTableData( document.getElementById('tab_settings').getElementsByTagName('table')[1] ) ); 
  // console.log(occ_setting); 
  var occ_setting  = addPlotId(occ_setting, id); 
  var pl_table = tableModule({table_data: plot_setting, ns: 'input_plot_' + id,  
                              id_text: true,  
                              hide_button: true, fit_button: true }) 
  div.appendChild( pl_table ); 
  document.getElementById('input_plot_' + id + '_fit').onclick(); 
  var oc_table = tableModule({table_data: occ_setting, ns: 'input_occ_' + id,  
                              id_text: true, search_input: true, 
                              hide_button: true, fit_button: true,  
                              add_button: true, calc_button: true}) 
  div.appendChild( oc_table ); 
  document.getElementById('input_occ_' + id + '_nrow').value = 3; 
  document.getElementById('input_occ_' + id + '_add_rows').onclick(); 
  updateTab(); 
  tabs[tabs.length - 1].onclick();  // move tab 
  var table = searchParentTable(oc_table); 
  setSortable(table.id);  // Should setSortable() after appendChild() 
 
  div.appendChild( createSpecieUlModule('', id) ); 
  //   div.appendChild( createSpecieUlModule(sp_list, id) ); 
 
} 
 
function updateAllInputsTables(obj){ 
  var pl_table = createAllInputsTable('input_plot') 
  var oc_table = createAllInputsTable('input_occ' ) 
  document.getElementById('plot_all').replaceWith(pl_table); 
  document.getElementById('occ_all' ).replaceWith(oc_table); 
  setSortable( searchParentTable(pl_table).id ); 
  setSortable( searchParentTable(oc_table).id ); 
 
  var tables = document.querySelectorAll("table[id^='input_occ']"); 
  var comp_table = createCompTable(tables); 
  document.getElementById('comp_table').replaceWith(comp_table); 
  setSortable( searchParentTable(comp_table).id ); 
} 
 
function createAllInputsTable(table_name){ 
  // var table_name = "input_occ"; var table_name = "input_plot"; 
  var tables = document.querySelectorAll("table[id^='" + table_name + "']"); 
 
  var c_names = getUniqeColNames(tables); 
  var removals = ['DATE', 'DATE', "LOC_LAT","LOC_LON","LOC_ACC","DELETE","UPDATE_TIME_GPS"]; 
  var c_names = c_names.filter(item => ! removals.includes(item)); 
 
  var inputs = getMultiTableInputs(tables, c_names); 
  var d_types = []; for(let i = 0; i <c_names.length; i++){ d_types.push('fixed'); } 
  var selects = []; for(let i = 0; i <c_names.length; i++){ selects.push(''); } 
 
  var all_data = { 
    biss_c_names: c_names, 
    biss_d_types: d_types, 
    biss_selects: selects, 
    biss_inputs : inputs 
  } 
 
  var all_table_name = table_name.split("_")[1] + '_all'; 
  //   var all_table = makeTableJO(all_data, all_table_name); 
  var all_table = tableModule({table_data: all_data, ns: all_table_name, 
                              id_text: true, search_input: true, 
                              hide_button: true}); 
  return all_table; 
} 
function getUniqeColNames(tables){ 
  var c_names = []; 
  for(let i = 0; i < tables.length; i++) { 
    var c_names = c_names.concat(getColNames(tables[i])); 
  } 
  return uniq(c_names); 
} 
function getMultiTableInputs(tables, c_names){ 
  var inputs = []; 
  for(let c_name of c_names){ 
    inputs[c_name] = []; 
    for(let tb of tables){ 
  // console.log(tb); 
  // console.log(c_name); 
      inputs[c_name] = inputs[c_name].concat(getColData(tb, c_name)); 
    } 
  } 
  return inputs; 
} 
 
function getMultiTableOptions(tables, c_names){ 
  var options = []; 
  for(let c_name of c_names){ 
    options[c_name] = []; 
    for(let tb of tables){ 
      options[c_name] = options[c_name].concat(getSelectOne(tb, c_name)); 
    } 
  } 
  options 
  return options; 
} 
 
function checkSameAs(inputs, pl, sp, id, sa){ 
  // var inputs = temp1; var pl = 'PLOT'; var sp = 'Species'; var id = 'Identified'; var sa = 'SameAs'; 
  for(let i=0; i < inputs[pl].length; i++){ 
    if(inputs[id][i] === false) 
      if(inputs[sa][i] === ''){ 
         inputs[sp][i] = inputs[sp][i] + '_' + inputs[pl][i]; 
       }else{ 
         inputs[sp][i] = inputs[sp][i] + '_' + inputs[sa][i]; 
      } 
  } 
  return inputs; 
} 
function createCompTable(tables, pl = "PLOT", sp = "Species", ab = "Cover", id = "Identified", sa = "SameAs"){ 
  // var pl = "PLOT";var sp = "Species"; var ab = "Cover"; var tables = document.querySelectorAll("table[id^='input_occ']"); 
  var inputs = getMultiTableInputs(tables, [pl, sp, ab, id, sa]); 
  // console.log(inputs); 
  var inputs = checkSameAs(inputs, pl, sp, id, sa) 
  var uniq_pl = uniq(inputs[pl]); 
  var uniq_sp = uniq(inputs[sp]); 
  var c_names = [sp].concat(uniq_pl); 
  var data_table = []; 
  data_table[sp] = uniq_sp; 
  for(let p of uniq_pl){ 
    var data_col = []; 
    for(let s of uniq_sp){ 
      var value = 0; 
      var is_present = 0; 
      for(let i=0; i < inputs[ab].length; i++){ 
        if(inputs[pl][i] === p && inputs[sp][i] === s ){ 
          value = value + Number(inputs[ab][i]); 
          is_present++; 
        } 
      } 
      if(is_present === 0){  // absent 
        var value = ''; 
      }else{                 // present 
        if(value === 0){ 
          var value = '--'; 
        } 
      } 
      data_col.push(value); 
    } 
    data_table[p] = data_col; 
  } 
  data_table; 
 
  var d_types = []; for(let i = 0; i <c_names.length; i++){ d_types.push('fixed'); } 
  var selects = []; for(let i = 0; i <c_names.length; i++){ selects.push(''); } 
  var comp_data = { 
    biss_c_names: c_names, 
    biss_d_types: d_types, 
    biss_selects: selects, 
    biss_inputs : data_table 
  } 
  var comp_table = tableModule({table_data: comp_data, ns: 'comp_table', 
                              id_text: true, search_input: true, 
                              hide_button: true}) 
  return comp_table; 
} 
 
function changePlotName(obj){ 
  var new_name = obj.previousElementSibling.value; 
 // var old_name = obj.parentNode. 
  // change tab name 
  //   document.getElementById('tabcontrol').insertBefore(a, obj); 
  //   document.getElementById('tabbody').appendChild(div); 
  //  
 
  //   var document. 
   
}</script> <script>function addComp(obj, sp = 'Species'){ 
  // var sp = 'Species'; 
  var ns = obj.id.split('-')[1]; 
  var id = 'sp_list_sp_list-'+ ns; 
  var comp = document.getElementById('comp_table_tb'); 
  var sp_list = getColData(comp, sp); 
  // console.log(sp_list); 
  addSpeciesList(id, sp_list); 
} 
function createAddCompButton(id){ 
  return crEl({ el:'input', ats:{type:'button', id: id, value: 'Add from Composition', onclick: 'addComp(this)'} }); 
} 
 
function createSpecieUlModule(species, ns){ 
  // var ns = 'all'; var species = sp_list; 
  var base_name = 'sp_list_'; 
  var main          = createSpanWithId    ( base_name + 'module-'    + ns          ); 
  var select_button = createSelectSL      ( base_name + 'select-'    + ns          ); 
  var update_sl     = createUpdateSLButoon( base_name + 'update-'    + ns          ); 
  var add_comp      = createAddCompButton ( base_name + 'add_comp-'  + ns          ); 
  var ncol_select   = createSelectNumber  ( base_name + 'ncols-'     + ns          ); 
 
  var load_button   = createLoadSLButton  ( base_name + 'load-'      + ns          ); 
  var save_button   = createSaveSLButoon  ( base_name + 'save-'      + ns          ); 
  var sp_list       = createSpecieList    ( base_name + 'sp_list-'   + ns, species ); 
  var staged        = createSpanWithId    ( base_name + 'staged-'    + ns          ); 
  var input         = createSLInput       ( base_name + 'input-'     + ns          ); 
  var update_pl     = createUpdatePLButton( base_name + 'update_pl-' + ns          ); 
  var select_plot   = createSelectPlot    ( base_name + 'plot-'      + ns          ); 
  var select_layer  = createSelectLayer   ( base_name + 'layer-'     + ns          ); 
  var add           = createSLAdd         ( base_name + 'add-'       + ns          ); 
 
  main.appendChild( select_button      ); 
  main.appendChild( update_sl          ); 
  main.appendChild( add_comp           ); 
  main.appendChild( ncol_select        ); 
  main.appendChild( crEl({ el: 'br' }) ); 
 
  main.appendChild( load_button        ); 
  main.appendChild( save_button        ); 
  main.appendChild( crEl({ el: 'br' }) ); 
 
  main.appendChild( staged             ); 
  main.appendChild( crEl({ el: 'br' }) ); 
  main.appendChild( input              ); 
  main.appendChild( crEl({ el: 'br' }) ); 
  main.appendChild( update_pl          ); 
  main.appendChild( select_plot        ); 
  main.appendChild( select_layer       ); 
  main.appendChild( add                ); 
 
  main.appendChild(sp_list); 
 
  main.appendChild( crEl({el:'hr'}) ); 
  return main; 
} 
 
// span 
function createSpanWithId(id){ 
  return crEl({ el: 'span', ats:{ id: id} }); 
} 
 
// Select species list 
function createUpdateSLButoon(id){ 
  return crEl({ el:'input', ats:{type:'button', id: id, value: 'Update select list', onclick: 'updateSelectSL(this)'} }); 
} 
function createSelectSL(id){ 
  var span = crEl({ el:'span', ih: '<b>Select pecies list:</b>' }); 
  var ns = id.split('-')[1]; 
  var select = createSL(id); 
  span.appendChild(select); 
  return span; 
} 
function updateSelectSL(obj){ 
  //   var id = this.id; 
  // console.log(id); 
  var id = obj.id.replace('update', 'select'); 
  var old_select = document.getElementById(id); 
  var new_select = createSL(id); 
  old_select.replaceWith(new_select); 
} 
function createSL(id){ 
  var species_list = replaceArrayAll(getKeysOfSLinLS(), 'biss_sl-', ''); 
  species_list.unshift('NEW'); 
  var select = createSelectOpt(species_list, 0, id); 
  select.setAttribute('onchange', 'changeSL(this)'); 
  return select 
} 
function changeSL(obj){ 
  var id = 'sp_list_sp_list-' + obj.id.split('-')[1]; 
  var ns = obj.value; 
  // console.log(id); 
  replaceSpeciesList(ns, id); 
} 
 
// Load  
//   @paramas obj  A input element. 
//                 Normally use "this".  
async function loadSL(obj){ 
  var text = await readFile(obj.files[0]); 
  var add_sp = text.replaceAll('\r', '').split(/[,\n]/); 
  // console.log(text); 
  // console.log(add_sp); 
  var ns = obj.id.split('-')[1]; 
  var id = 'sp_list_sp_list-'+ ns; 
  addSpeciesList(id, add_sp); 
  obj.value = '';  // for select the same file twice or more 
} 
// Helper function 
function readFile(file){ 
  // https://www.delftstack.com/ja/howto/javascript/open-local-text-file-using-javascript/ 
  return new Promise((resolve, reject) => { 
    let reader = new FileReader(); 
    reader.onload = x=> resolve(reader.result); 
    reader.readAsText(file); 
  }) 
} 
function createLoadSLButton(id){ 
  var span = crEl({el:'span', ih: "<b>Add species to list:</b>" }); 
  var file_input = crEl({ el:'input', ats:{ type: "file", id: id, onchange: "loadSL(this)" } }); 
  span.appendChild(file_input); 
  return span; 
} 
 
// Save 
function createSaveSLButoon(id){ 
  var ns = id.split('-')[1]; 
  var span = crEl({ el:'span' }); 
  var select = createSelectOpt(['file', 'browser'], 0, 'sp_list_which-' + ns); 
  var input = crEl({ el:'input', ats:{type:'text', id: id, placeholder: 'File name'} }); 
  var button = crEl({ el:'input', ats:{type:'button', id: id, value: 'Save', onclick: 'saveSL(this)'} }); 
  span.appendChild(select); 
  span.appendChild(input); 
  span.appendChild(button); 
  return span; 
} 
function saveSL(obj){ 
  var id      = obj.id; 
  var ns      = id.split('-')[1]; 
  var f_name  = document.getElementById('sp_list_save-' + ns).value; 
  var which   = document.getElementById('sp_list_which-' + ns).value; 
  var ul      = document.getElementById('sp_list_sp_list-' + ns); 
  var sp_list = getGrandChildrenValues(ul); 
  if(f_name === ""){  
    alert('Input file name!'); 
    return void 0; 
  } 
  // console.log(name   ); 
  // console.log(which  ); 
  // console.log(sp_list); 
  if(which === 'browser'){ addSLinLS(sp_list, f_name); } 
  if(which === 'file'   ){ downloadStrings(strings = sp_list, file_name = f_name + '.txt'); } 
  document.getElementById('sp_list_save-' + ns).value = '';  // clear file name 
} 
 
// No. of columns 
function createSelectNumber(id){ 
  var span = crEl({el:'span', ih: "<b>No. of Column:</b>" }); 
  var select = createSelectOpt([1,2,3,4,5,6,7,8,9], 5, id); 
  select.setAttribute('onchange', 'changeUlColumns(this)'); 
  span.appendChild(select); 
  return span; 
} 
function changeUlColumns(obj){ 
  var ncols = obj.value; 
  document.documentElement.style.setProperty('--cc', ncols); 
} 
 
// Species list 
function createSpecieList(id, species){ 
  var ns = id.split('-')[1]; 
  var ul = crEl({ el:'ul', ats:{id: id} }); 
  // console.log(species); 
  for(let sp of species){ 
    var li = crEl({ el:'li' }) 
    var button = createSpeciesButton({ sp: sp, to_stage: true, ns:ns }) 
    li.appendChild(button); 
    ul.appendChild(li); 
  } 
  return ul; 
} 
function replaceSpeciesList(ns, id){ 
  if(ns === 'NEW'){ 
    var new_sp_list = createSpecieList(id, ''); 
  }else{ 
    var new_sp_list = createSpecieList(id, getSLinLS(ns)); 
  } 
  var old_sp_list = document.getElementById(id); 
  old_sp_list.replaceWith(new_sp_list); 
} 
function createSpeciesButton({ sp, to_stage, ns }){ 
  if(to_stage){ 
    var id = ns + '_sp_' + sp 
    var onclick = "stageSpecies(this)" 
  }else{ 
    var id = ns +  '_staged_sp_' + sp; 
    var onclick = "unStageSpecies(this)" 
  } 
  return crEl({ el:'input', ats:{type: "button", value: sp, onclick: onclick, id: id } }); 
} 
function createSLInput(id){ 
  var placeholder = "Input species (separate with ',')"; 
  return crEl({ el:'input', ats:{type: 'text', id: id, placeholder: placeholder, size:'100'} }); 
} 
 
// Plot and Layer 
function createUpdatePLButton(id){ 
  return crEl({ el:'input', ats:{type:'button', id: id, value: 'Update plot and layer', onclick: 'updatePlotLayer(this)'} }); 
} 
function createSelectPlot(id){ 
  var span = crEl({ el:'span', ih: 'PLOT:' }); 
  var ns = id.split('-')[1]; 
  if(ns === 'all'){ 
    var tables = document.querySelectorAll("table[id^='input_occ']"); 
    var pl = 'PLOT'; 
    var plot_list = uniq(getMultiTableInputs(tables, [pl])[pl]); 
  }else{ 
    var plot_list = [ns]; 
  } 
  var plot_select = createSelectOpt(plot_list, 0, id); 
  span.appendChild(plot_select) 
  if(ns !== 'all'){ span.setAttribute('style', 'display:none'); } 
  return span; 
} 
function createSelectLayer(id){ 
  var span = crEl({ el:'span', ih: 'Layer:' }); 
  var tables = document.querySelectorAll("table[id^='input_occ']"); 
  var ly = 'Layer'; 
  var layer_list = uniq(getMultiTableOptions(tables, [ly])[ly]); 
  var layer_select = createSelectOpt(layer_list, layer_list.length - 1, id); 
  span.appendChild(layer_select) 
  return span; 
} 
function updatePlotLayer(obj){ 
  var ns = obj.id.split('-')[1]; 
  // console.log(ns); 
  var base_name = 'sp_list_'; 
  //   var list_id  = base_name + 'sp_list-'+ ns; 
  //   addSpeciesList(list_id, ''); 
  var plot_id  = base_name + 'plot-'   + ns; 
  var layer_id = base_name + 'layer-'  + ns; 
  replaceSelectPlot (    plot_id); 
  replaceSelectLayer(    layer_id); 
} 
function replaceSelectPlot(id){ 
  var old_plot = document.getElementById(id).parentNode; 
  var new_plot = createSelectPlot(id); 
  old_plot.replaceWith(new_plot); 
} 
function replaceSelectLayer(id){ 
  var old_layer = document.getElementById(id).parentNode; 
  var new_layer = createSelectLayer(id); 
  old_layer.replaceWith(new_layer); 
} 
 
// Add species 
function createSLAdd(id){ 
  return crEl({ el:'input', ats:{type: 'button', id: id, value: 'Add species to PLOT', onclick: 'addSpecies(this)' } }); 
} 
function addSpeciesList(id, add_sp){ 
  var old_sp_list = document.getElementById(id); 
  // console.log(id); 
  var old_sp = getGrandChildrenValues( old_sp_list ); 
  if(old_sp === void 0) var old_sp = ''; 
  var new_sp = uniq(old_sp.concat(add_sp)).sort(); 
  if(new_sp.indexOf('') >= 0){ new_sp.splice(new_sp.indexOf(''), 1); }  // remove '' 
  var new_sp_list = createSpecieList(id, new_sp); 
  old_sp_list.replaceWith(new_sp_list); 
} 
function stageSpecies(obj){ 
  var ns = obj.parentNode.parentNode.id.split('-')[1]; 
  var sp_staged = document.getElementById('sp_list_staged-' + ns); 
  var sp = obj.value; 
  obj.setAttribute("disabled", true); 
  sp_staged.appendChild( createSpeciesButton({ sp: sp, to_stage: false }) ); 
} 
function unStageSpecies(obj){ 
  // console.log(obj) 
  var ns = obj.parentNode.parentNode.id.split('-')[1]; 
  var id = ns + '_sp_' + obj.value; 
  var sp_button = document.getElementById(id); 
  sp_button.removeAttribute("disabled"); 
  obj.remove(); 
} 
function addSpecies(obj){ 
  // console.log(obj); 
  // console.log(obj.id); 
  var base_name = 'sp_list_'; 
  var ns = obj.id.split('-')[1]; 
  var staged  = document.getElementById(base_name + 'staged-' + ns); 
  var input   = document.getElementById(base_name + 'input-'  + ns); 
  var plot    = document.getElementById(base_name + 'plot-'   + ns).value; 
  var layer   = document.getElementById(base_name + 'layer-'  + ns).value; 
  var species = getChildrenValues(staged); 
  if(input.value !== ''){ var sp = sp.concat(input.value.split(',')); } 
  // add species 
  var table = document.getElementById('input_occ_' + plot + '_tb'); 
  for(let spec of species){ 
    var [sp, sa] = spec.split('_'); 
    if(sa === void 0) var sa = ''; 
  // console.log(layer); 
    addRowWithValues({ table: table, values: {Layer: layer, Species: sp, SameAs: sa} }); 
  } 
 
  // clear inputs 
  input.value = ''; 
    // Delete from the front, elements will be shifted and don't work well 
  for(let i = staged.children.length; 0 < i; i--){ // loop backwards 
    staged.children[i-1].click(); 
  } 
} 
function getChildrenValues(element){ 
  var values = []; 
  for(let child of element.children){ 
    values.push(child.value); 
  } 
  return values; 
} 
 
function getGrandChildrenValues(element){ 
  var values = []; 
  for(let child of element.children){ 
    for(let ch of child.children){ 
      values.push(ch.value); 
    } 
  } 
  return values; 
}</script> <script charset="utf-8">const wamei=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];</script> <script charset="utf-8">function generateTable(data){ 
  var table = crEl({ el: 'table' }); 
  table.appendChild( crEl({ el: 'th', tc: "wamei" }) ); 
  for(let i = 0; i < data.length; i++){ 
    var tr = crEl({ el: 'tr' }); 
    var td = crEl({ el: 'td', tc: data[i] }); 
    tr.appendChild( td ); 
    tr.style.display = 'none'; 
    table.appendChild(tr); 
  } 
  return table 
} 
 
// wamei 
function generateSearchTable(ns, table){ 
  // Up span 
  var up = crEl({ el:'span', ats:{id: "up_" + ns} }); 
  up.appendChild( crEl({ el: 'B', tc: ns}) ); 
  up.appendChild( createSearchShowInput() ); 
  up.appendChild( createSearchShowButton() ); 
  // Table 
  var table = generateTable(wamei); 
  // Main 
  var main   = crEl({ el:'span', ats:{id: "main_"   + ns} }); 
  main.appendChild(up); 
  main.appendChild(table); 
  return main; 
}</script> <script>function createTd(col_name, data_type, select, table_data){ 
  switch(data_type){ 
    case "auto": // date, no, GPS 
      if(col_name === "DATE"  )  td = crEl({ el: 'td', ih: getNow() }); 
      if(col_name === "LOC_LAT") td = crEl({ el: 'td', ih: getLat() }); 
      if(col_name === "LOC_LON") td = crEl({ el: 'td', ih: getLon() }); 
      if(col_name === "LOC_ACC") td = crEl({ el: 'td', ih: getAcc() }); 
      if(col_name === "NO"     ) td = crEl({ el: 'td', ih: 1        }); 
      if(col_name === "SameAs" ) td = crEl({ el: 'td', ih: ''       }); 
      break; 
    case "text": 
      var td = createTdWithChild( crEl({ el:'input', ats:{type: data_type, value: table_data} }) ); 
      break; 
    case "number": 
      var td = createTdWithChild(  
        crEl({ el:'input', ats:{type: data_type, value: table_data, inputmode: "numeric", min: "0"} }) ); 
      break; 
    case "checkbox": 
  // console.log([table_data, !!table_data]); 
      var td = createTdWithChild( crEl({ el:'input', ats:{type: data_type} }) ); 
      td.firstChild.checked = !!table_data; 
      break; 
    case "fixed": 
  //       if(table_data === ""){ table_data = "NO_INPUT"; }   // alert("Fixed columns should be input!"); 
      var td = crEl({ el:'td', ih: table_data }); 
      break; 
    case "button": 
      if(col_name === "DELETE")         { var td = createTdWithChild( createDelButton() ); } 
      if(col_name === "UPDATE_TIME_GPS"){ var td = createTdWithChild( createUpdateButton() ); } 
      break; 
    case "list": 
      select.push(''); 
      if(select.indexOf(table_data) === -1){ var selected_no = 0;                          } 
      else                                 { var selected_no = select.indexOf(table_data); } 
      var td = createTdWithChild( createSelectOpt(select, selected_no) ); 
      break; 
  } 
  return td; 
} 
 
function addThTr(table, col_names){ 
  var tr = document.createElement('tr'); 
  for(let Ni = 0; Ni < col_names.length; Ni++){ 
    if(col_names[Ni] !== ""){ 
      var th = crEl({ el: 'th', ih: col_names[Ni] }); 
      tr.appendChild(th); 
    } 
  } 
  table.appendChild(tr); 
  return table; 
} 
 
function nRow(table){ 
  return table.rows.length; 
} 
function nCol(table){ 
  return table.rows[0].cells.length; 
} 
 
function addHideRowTr(table){ 
  var tr = crEl({ el: 'tr', ats: {class: 'hide_button'} }); 
  for(let i = 0; i < nCol(table); i++){ 
    var td = crEl({ el: 'td', ih: "" }); 
    td.appendChild( createHideTableColButton() ); 
    tr.appendChild(td); 
  } 
  table.appendChild(tr) 
  return table; 
} 
function createHideTableColButton(){ 
  return createInput({ type:"button", value: "Hide", onclick: "hideTableCol(this)" }); 
} 
 
// Helper to create input with select options 
//    when selected_no is given,  
//    its <option> (start with 0) will be set as "selected". 
function createSelectOpt(list, selected_no = 0, id = ''){ 
  const n_list = list.length; 
  //   var select = document.createElement('select'); 
  var select = crEl({ el:'select', ats:{id: id} }); 
  for(let j = 0; j < n_list; j++){ 
    var option = document.createElement('option'); 
    if(selected_no === j){ option.setAttribute('selected', 'true'); } 
    option.innerHTML = list[j]; 
    select.appendChild(option); 
  } 
  return select; 
} 
 
 
// Get data and optional information from a table. 
//    getTableDataPlus() retrieve table data as well as column names, data types, selects.  
//    @params id_table      A string to specify table id. 
//    @return               A string with 4 parts as shown below.  
//                          Each part is JSON format. 
//                            c_names: Column names of table, which will be used for making th. 
//                            d_types: Data types of each column for judging the td and input types. 
//                            selects: Select options for 'list' element. null for other types. 
//                            t_data : Table data for making td values or innnerHTML. 
function getTableData(table){ 
  // var table = document.getElementById("setting_plot_tb"); 
  var c_names = getColNames(table); 
  var d_types = getDataTypes(table); 
  // getInputs 
  var t_data = []; 
  for(let name of c_names){ 
    t_data[name] = getColData(table, name); 
  } 
  var selects = []; 
  for(var i = 0; i < d_types.length; i++){  
    selects.push( (d_types[i] === "list") ? getSelectOne(table, c_names[i]): ''); 
  } 
  return{ 
    biss_c_names: c_names, 
    biss_d_types: d_types, 
    biss_selects: selects, 
    biss_inputs: t_data 
  } 
} 
 
//   @paramas  
//   @paramas  
//   @return  A table 
function makeTableJO(table_data, table_name){ 
  if(Array.isArray(table_data) === true){ 
    var table = createSpeciesListTable(table_data, table_name, n=15); 
  }else{ 
    var col_names = table_data.biss_c_names; 
    var dat_types = table_data.biss_d_types; 
    var selects   = table_data.biss_selects; 
    var inputs    = table_data.biss_inputs ; 
    var table = crEl({ el: 'table', ats:{id: table_name} }); 
    var table = addThTr(table, col_names);                                    // tr with th (col names) 
    var table = addHideRowTr(table);                                          // tr with hide buttons 
    var table = addTableData(table, col_names, dat_types, selects, inputs);   // table data 
  } 
  return table; 
} 
 
function addTableData(table, col_names, dat_types, selects, inputs){ 
  for(let Ri = 0; Ri < inputs[col_names[0]].length; Ri++){ 
    var tr = document.createElement('tr'); 
    for(let Cj = 0; Cj < nCol(table); Cj++){ 
      if(col_names[Cj] !== ""){ 
        tr.appendChild( createTd(col_names[Cj], dat_types[Cj], selects[Cj], inputs[col_names[Cj]][Ri]) ); 
      } 
    } 
    table.appendChild(tr); 
  } 
  return table; 
} 
 
function convertTableData(table_data){ 
  // var table_data = temp1; 
  var c_names = table_data['biss_inputs']['item']; 
  var d_types = table_data['biss_inputs']['type']; 
  var selects = []; 
  var inputs  = []; 
  for(var i = 0; i < d_types.length; i++){ 
    selects.push( (d_types[i] === 'list' ) ? table_data['biss_inputs']['value'][i].split(':') : '' ); 
    inputs[c_names[i]] = [(d_types[i] === 'fixed' || d_types[i] === 'checkbox') ? table_data['biss_inputs']['value'][i]: '']; 
  //     inputs[c_names[i]] = table_data['biss_inputs']['value'][i]; 
  } 
  return { 
    biss_c_names: c_names, 
    biss_d_types: d_types, 
    biss_selects: selects, 
    biss_inputs : inputs  
  } 
} 
 
 
  // editing now 
  // var table_name = "setting_occ_default"; 
  // var table_name = "input_plot_default"; 
  // var table_name = "setting_plot_01"; 
  // var table = document.getElementById(table_name); 
  // var table_data = getTableData(table); 
  // var t_data = convertTableData(table_data); 
  // var table_new = makeTableJO(t_data, "test") 
  // document.getElementById("setting_occ_default").replaceWith(table_new); 
 
 
  // data_00["setting_plot_01"]["biss_inputs"]["item"] 
  // JSON.stringify(data_00) 
  // JSON.parse(JSON.stringify(data_00))</script> <script charset="utf-8">function showExample(obj){ 
 
  // select settings: '_5_layers' 
  changeSettingsByName('_5_layers'); 
 
  // add plots 
  addInputTab({ obj:document.getElementById('add_tab'), id:'biss01' }); 
  addInputTab({ obj:document.getElementById('add_tab'), id:'biss02' }); 
 
  // input data 
  var tb_1 = document.getElementById('input_occ_biss01_tb'); 
  var tb_2 = document.getElementById('input_occ_biss02_tb'); 
  var ly = ['T1' ,  'T2',    'H',   'H',   'H']; 
  var sp = ['sp1', 'sp2',  'sp3', 'sp4', 'sp5']; 
  var cv = [  80 ,    40,       ,   1.5,   0.5]; 
  for(let i = 0; i < 3; i++){ addRowWithValues({ table: tb_1, values:{ Layer: ly[i], Species:sp[i], Cover:cv[i] } }); } 
  for(let i = 2; i < 5; i++){ addRowWithValues({ table: tb_2, values:{ Layer: ly[i], Species:sp[i], Cover:cv[i] } }); } 
  // delete default data 
  for(let i = 1; i < 5; i++){ tb_1.rows[2].cells[1].firstChild.click(); } 
  for(let i = 1; i < 5; i++){ tb_2.rows[2].cells[1].firstChild.click(); } 
 
  // update "all inputs tables" and "input species list" 
  document.getElementById('update_all_inputs_tables_button').click(); 
  // add species list 
  var sp_nara   = grepArray(wamei, //); 
  var sp_buna   = grepArray(wamei, //); 
  var sp_kusu   = grepArray(wamei, //); 
  var sp_tabu   = grepArray(wamei, //); 
  var sp_kaya   = grepArray(wamei, //); 
  var sp_susuki = grepArray(wamei, //); 
  addSLinLS(sp_nara  , 'nara'); 
  addSLinLS(sp_buna  , 'buna'); 
  addSLinLS(sp_kusu  , 'kusu'); 
  addSLinLS(sp_tabu  , 'tabu'); 
  addSLinLS(sp_kaya  , 'kaya'); 
  addSLinLS(sp_susuki, 'susuki'); 
 
  var base_name = 'sp_list_sp_list-'; 
  // console.log(getSLinLS()); 
  addSpeciesList(base_name + 'all'   , getSLinLS()); 
  addSpeciesList(base_name + 'biss01', getSLinLS()); 
  addSpeciesList(base_name + 'biss02', getSLinLS()); 
 
  //   document.getElementById('sp_list_update-all').click(); 
  document.getElementById('sp_list_update_pl-all').click(); 
 
  obj.remove(); 
}</script> <script>function testSaveTable(){var e="test_data",t=new Uint8Array([239,187,191]),a=new Blob([t,e],{type:"text/tsv"});const n=URL.createObjectURL(a),c=document.createElement("a");document.body.appendChild(c),c.download="temp.txt",c.href=n,c.click(),c.remove(),URL.revokeObjectURL(n),delete e}</script> <style> #tabcontrol{ margin:0;} #tabcontrol a{ display:inline-block;border-width:1px 1px 0px 1px; border-style:solid;border-color:black;border-radius:0.75em 0.75em 0px 0px; padding:0.75em 1em;text-decoration:none; color:black;background-color:white;font-weight:bold;position:relative; } #tabbody div{ border:1px solid black;margin-top:-1px; padding:1em;background-color:white;position:relative; z-index:0; min-height:5em; } #tabcontrol a:nth-child(1), #tabbody div:nth-child(1){ background-color:#FFFFE0;}#tabcontrol a:nth-child(2), #tabbody div:nth-child(2){ background-color:#efefff;}#tabcontrol a:nth-child(n+3), #tabbody div:nth-child(n+3){ background-color:#efffef;} </style> <style>:root{ --font-size:16px;}table{ border-collapse:collapse;}input[type="number"]{ width :5em;}input,select,chkbox,b{ font-size :var(--font-size);}input{ }table td,th{ font-size :var(--font-size);border-style:solid; padding :0.3em 1em; text-align :center; }table th{ color:white;background-color:#00552e;cursor:pointer;}table td{ border-width:0px 0px; border-color:#00552e; }table tr:nth-child(odd){ background:#AEFFBD;}table td:before{ content:attr(th-lab);}table tr{ border-width:0.5px 0.5px;border-color:#00552e; border-style:solid; }#tab_tools table tr{ background:#FFFFFF;}#tab_tools table th{ color:white;background-color:#FF6E00;}#tab_settings table th{ color:white;background-color:#0033CC;}#tab_settings table td{ border-width:1px 0px; border-color:#0033CC; }#tab_settings table tr:nth-child(odd){ background:#BAD3FF;}#tab_tools td{ text-align :left;vertical-align:top;background:#FFFFF0;} td #sp_staged{ background:#FF6E00;}</style> <style>:not(:root):fullscreen::backdrop{ background-color:white;}</style> <style>:root{ --cc:5;}ul{ column-count :var(--cc);list-style-type:none;padding-left :1px;padding-right :1px;}</style> <script></script> </head> <body> <p> <input type="button" value="smaller" onclick="smaller()"> <input type="button" value="LARGER" onclick="larger()"> Biodiversity Investigation Support System (BiSS) <input id="switch_screen_show" type="button" value="TO FULL SCREEN" onclick="switchScreenShow(this.id)"> <input type="button" value="saveHTML" onclick="saveHTML()"> <input type="button" value="Start GPS" onclick="startGPS(this)"> <input type="button" value="Launch mailer" onclick="launchMailer()"> <input type="button" value="Show example" onclick="showExample(this)"> </p> <div class="Biodiversity Investigation System (BIS)"> <p id="tabcontrol"> <a href="#tab_tools">Tools </a> <a href="#tab_settings">Settings </a> <a href="#tab_all">All plots</a> <input id="add_tab" type="button" value="+ PLOT" onclick="addInputTab({ obj:this })"> </p> <div id="tabbody"> <div id="tab_tools"> <script>var tab_tools=document.getElementById("tab_tools");tab_tools.appendChild(createSpecieUlModule("","all")),tab_tools.appendChild(generateSearchTable("wamei",generateTable(wamei)));</script> <p> "aaa bbb" matches texts including both "aaa" and "bbb". </p><p> Wamei (Japanese plant names) is obtained from <br> Yamanouchi, T., Shutoh, K., Osawa, T., Yonekura, K., Kato, S., Shiga, T. 2019. <br> A checklist of Japanese plant names <br> (https://www.gbif.jp/v2/activities/wamei_checklist.html) </p></div> <div id="tab_settings"> <script>var tab_setting=document.getElementById("tab_settings");tab_setting.appendChild(createSettingSelect()),tab_setting.appendChild(addSettingPartButton("plot")),tab_setting.appendChild(addSettingPartButton("occ")),tab_setting.appendChild(crEl({el:"hr"})),tab_setting.appendChild(crEl({el:"span"})),tab_setting.appendChild(crEl({el:"span"})),changeSettingsByName("empty");</script> </div> <div id="tab_all"> <script>var tab_all=document.getElementById("tab_all");tab_all.appendChild(updateAllInputsTablesButton());</script> <br> <span id="plot_all"></span> <span id="occ_all"></span> <table id="comp_table"></table> </div> </div> </div> <div> <script>var column_no=0,column_no_prev=0,dir="asc",tabs=document.getElementById("tabcontrol").getElementsByTagName("a"),pages=document.getElementById("tabbody").getElementsByTagName("div");updateTab(),tabs[1].onclick();</script> <div> </div></div></body> </html> 
