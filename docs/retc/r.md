# Rとは {#R}

この文章では，プログラミング言語としてRを使っている．
Rは，統計解析環境であるとともに，プログラミング言語である．
プログラミング言語としては，やや特殊な文法をもっている．
そのため，他の言語よりも好き嫌いが激しいと思われる．
どうしてもRを使うのが嫌であれば，Pythonでの自動化について書いた書籍が多くあるので，それらを参考にして欲しい．

## 特徴

プログラミング言語としてのRが文法的に特殊な点では，代入での`<-`使用とパイプ(`|>`(R 4.1以降)や`%>%`)の多用が挙げられる．

他の多くのプログラミング言語では，代入には`=`を使用する．
Rでも`=`を使えるが，`<-`を好んで使う人が多いと思われる．
少なくとも私はそうしている．
理由を問われても特には思いつかないが，慣れていることや，コードを見た時にすぐにRだとわかるぐらいだろうか．
実用的には，`=`を入力するよりも手間がかかるし面倒なはずであるが，すでに手が慣れてしまっている．

パイプを最初に見たときには違和感を覚えたが，使い始めるとクセになる．
クセになるだけではなく，同じ変数名を何度も使ったり，中間の変数名を考えなくて良い点で優れている．
第1引数を省略できるため，入力の手間が少ない．
パイプだけの恩恵でなく，tidyverseの利用も大きいが，コードが簡潔になって，コードの使い回しがし易い．
パイプにはこのような多くの利点がある．

他にも`::`がやたらと出てくることや，実行速度が遅いなどの欠点もそれなりにある．
`::`は`library()`でパッケージを呼び出せば，使わなくても良いことが多い．
ただし，この文章で関数がどのパッケージのものかを示すために，不要な場合でも明示している場合が多い．
実行速度が遅いのは，Rだけでなくインタプリタの宿命である．
Pythonもインタプリタでありそれ自体は実行速度は遅い．
しかし，RでもPythonでも内部的ではCやC++を使っており，RやPython自体で過度にループを使ったりしなければ実用的にはほとんど問題ない．

そもそも完璧なプログラミング言語などそ存在せず，それぞれに利点・欠点がある．
それぞれの得意な分野でうまく使うことが重要である．
とはいいながら，多くのプログラミング言語を習得するのは困難である．
ちょっとだけでもこれまでにかじったことのある言語としては，
FORTRAN，Perl，Ruby，C，C++，VBA，Java，Python，JavaScript，Rなどがある．
それぞれなんとなく読むことはできるが，実際によく使うのはRだけである．
JavaScriptはその次に使っているが，頻度は非常に低い．
Pythonは勉強中である．

Rにはヘルプ・ドキュメントがしっかりしているというのも非常に良い．
ヘルプは，「?関数名」としてRから直接呼び出すことがでる．
関数の引数，返り値，使用例などが詳しく解説されていることが多い．
ユーザーとしてはいちいちネットや書籍で調べなくても良いのが心強い．
パッケージの開発者としては，既存のパッケージのドキュメントがしっかりしている．
そのため，それに合わせるべく，しっかりとしたドキュメントを書かなければならないという心理的な圧力がある．
ただ，ドキュメントをしっかり作っておかないと，開発者も関数の使い方を忘れてしまうことになりかねないため，結局は「他人のためならず」である．

## 1点突破

プログラミング言語にはそれぞれ得意分野があることは確かだが，垣根を超えて使うことができる．
例えば，RからPythonを使うパッケージとしてreticulateがあり，PythonからRを使うライブラリとしてrpy2がある．
つまり，1つのプログラミング言語でしか実行できないものはほとんどなく，使いたい言語を使って勉強したい言語を勉強すれば良い．

汎用的なプログラミング言語では，Python，C，C++，Javaが，Web関連ではJavaScriptが広く使われている．
これらの言語に関連した多くのパッケージが，Rの総本山であるCRANに登録されている．
そのため，Rを通してこれらの言語やそのパッケージが利用可能である．
多くの言語を習得するのも良いが，習得にはかなりの時間が必要である．
いっそのこと1つの言語をある程度極めて，そこから使うのは良い方法と言えるだろう．
つまり一点突破の手法である．
そこで，Rのパッケージを使って，各種操作をすることを目的にこの文章を執筆した(している)．

もちろんだが，エラーが出たときの対処やより良い利用のためには，それぞれの言語のことを少しは知っておいた方が良い．
場合によっては，R以外の言語でコードを書く方が良い場合もある．
私自身の例としては，編集距離を計算するコードをCで書いたことがある．
編集距離は，植物の学名や和名の間違い候補を提案するための関数を作成するために必要であったが，Rでの実装では実行速度に問題があった．
そのため，部分的にCで書いてそれをパッケージRcppを利用して自作のパッケージに組み込んだ．
正直なところはCで書いたというよりも，参考になるコードをネットから探して，多少アレンジしただけである．
このような利用は実際のRのパッケージでも多く採用されており，R本体や各種パッケージの多くの関数はCやC++で実装されている．

結局のところ，表面的にはRを使っていても，他の言語のお世話になっていることは多い．
Rだけでもかなりのことはできるし，他の言語であっても結局は同じようなことが言える．
Rに限らず自分の得意とする言語を深く勉強するとともに，他の言語も少し知っておくのが良いだろう．

